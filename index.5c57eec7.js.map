{"mappings":"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","sources":["node_modules/@babel/runtime/helpers/interopRequireDefault.js","node_modules/@babel/runtime/helpers/typeof.js","src/Presenter/Presenter.ts","node_modules/@babel/runtime/helpers/classCallCheck.js","node_modules/@babel/runtime/helpers/createClass.js","node_modules/@babel/runtime/helpers/defineProperty.js","src/Model/Model.ts","node_modules/@babel/runtime/helpers/assertThisInitialized.js","node_modules/@babel/runtime/helpers/inherits.js","node_modules/@babel/runtime/helpers/setPrototypeOf.js","node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/getPrototypeOf.js","src/EventObserver/EventObserver.ts","src/EventObserver/eventTypes.ts","src/View/View.ts","src/View/HandlerView/HandlerView.ts","src/View/ValueNoteView/ValueNoteView.ts","src/View/TrackView/TrackView.ts","src/View/BarView/BarView.ts","src/View/ScaleView/ScaleView.ts","src/jq.adslider.ts"],"sourcesContent":["function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import { IConfig, Model } from '../Model/Model';\nimport View from '../View/View';\nimport EventTypes from '../EventObserver/eventTypes';\n\nclass Presenter {\n  private model: Model;\n\n  private view: View;\n\n  constructor(container: HTMLElement, options: IConfig) {\n    this.model = new Model(options);\n    this.view = new View(container);\n    this.updateView();\n    this.addObservers();\n  }\n\n  public updateView(): void {\n    this.view.updateView(this.model.options);\n  }\n\n  public validateModel(options: IConfig): void {\n    this.model.init(options);\n  }\n\n  public getModelOptions(): IConfig {\n    return this.model.options;\n  }\n\n  private addObservers(): void {\n    this.view.addObserver(EventTypes.CHANGE_POSITION, this.handleCalcValue);\n    this.model.addObserver(EventTypes.CALC_POSITION, this.handleCalcPos);\n    this.model.addObserver(EventTypes.SET_POSITION, this.handleSetPos);\n  }\n\n  private handleCalcValue = (data: {\n    relPosition: number,\n    isFrom: boolean\n  }) => {\n    this.model.setValueFromHandlerPos(data);\n  }\n\n  private handleCalcPos = (options: {\n    value: number,\n    limits: { min: number; max: number },\n    isFrom: boolean\n  }) => {\n    this.view.calcPos(options);\n  }\n\n  private handleSetPos = (options: {\n    isDouble: boolean,\n    isFrom: boolean,\n    showValueNote: boolean\n  }) => {\n    this.view.setPos(options);\n  }\n}\n\nexport default Presenter;\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import EventObserver from '../EventObserver/EventObserver';\nimport EventTypes from '../EventObserver/eventTypes';\n\ninterface IConfig {\n  limits: {\n    min: number;\n    max: number;\n  };\n  showValueNote: boolean;\n  step: number;\n  vertical: boolean;\n  double: boolean;\n  from?: number | null;\n  to: number;\n  onChange?: (data: IConfig) => void;\n}\n\nclass Model extends EventObserver {\n  public options!: IConfig;\n\n  constructor(options: IConfig) {\n    super();\n    this.validateValues(options);\n    this.init(this.options);\n  }\n\n  public init(options: IConfig): void {\n    this.setLimitsAndValues(options);\n  }\n\n  public setValueFromHandlerPos(data: {\n    relPosition: number;\n    isFrom: boolean;\n  }): void {\n    const { relPosition, isFrom } = data;\n    const value = this.calcValueFromHandlerPos(relPosition);\n    const conditionForReturn = this.options.double && this.isValToMovesOverValFrom(value);\n    if (isFrom && this.isValFromMovesOverValTo(value)) {\n      return;\n    }\n    if (!isFrom && conditionForReturn) {\n      return;\n    }\n    this.setValAndBroadcast(value, isFrom);\n    this.callOnChange();\n  }\n\n  private validateValues(options: IConfig) {\n    let defaultLimits;\n    if (options.limits) {\n      defaultLimits = {\n        min: typeof options.limits.min === 'number' ? options.limits.min : -100,\n        max: typeof options.limits.max === 'number' ? options.limits.max : 100,\n      };\n    } else {\n      defaultLimits = {\n        min: -100,\n        max: 100,\n      };\n    }\n    this.options = {\n      limits: defaultLimits,\n      showValueNote: options.showValueNote || true,\n      step: typeof options.step === 'number' && options.step !== 0 ? options.step : 5,\n      vertical: options.vertical || false,\n      double: options.double || false,\n      from: options.double && !options.from ? 0 : null,\n      to: typeof options.to === 'number' ? options.to : 0,\n      onChange: options.onChange,\n    };\n  }\n\n  private callOnChange() {\n    if (typeof this.options.onChange === 'function') {\n      this.options.onChange(this.options);\n    }\n  }\n\n  private calcValueFromHandlerPos(relPos: number): number {\n    const { limits: { min, max } } = this.options;\n    const odds: number = max - min;\n    return Math.round(min + odds * relPos);\n  }\n\n  private setLimitsAndValues(options: IConfig): void {\n    const {\n      limits: { min, max },\n      from,\n      to,\n      double,\n      step,\n      vertical,\n      showValueNote,\n    } = options;\n    const isMinMaxNaN = Number.isNaN(min) || Number.isNaN(max);\n    const isFromToNaN = Number.isNaN(from) || Number.isNaN(to) || Number.isNaN(step);\n    if (isMinMaxNaN || isFromToNaN) {\n      return;\n    }\n    if (min >= max) {\n      return;\n    }\n    if (min !== this.options.limits.min) {\n      if (step > max - min) {\n        this.setMinValue(options);\n        return;\n      }\n    }\n    if (max !== this.options.limits.max) {\n      if (step > max - min) {\n        this.setMaxValue(options);\n        return;\n      }\n    }\n    if (step !== this.options.step) {\n      if (step <= 0 || step > max - min) {\n        return;\n      }\n    }\n    if (!double) {\n      this.setValuesForSingleSlider(options);\n    } else {\n      this.setValuesForDoubleSlider(options);\n    }\n    this.options.limits.min = min;\n    this.options.limits.max = max;\n    this.options.double = double;\n    this.options.vertical = vertical;\n    this.options.showValueNote = showValueNote;\n    this.options.step = step;\n  }\n\n  private setMinValue(options: IConfig): void {\n    const { limits: { min, max }, double, from, to } = options;\n    this.options.step = max - min;\n    if (!double) {\n      this.options.to = min;\n      this.options.limits.min = min;\n    } else if (from && from < min) {\n      this.options.from = min;\n      this.options.limits.min = min;\n      this.options.to = to < min ? min : to;\n    }\n  }\n\n  private setMaxValue(options: IConfig): void {\n    const { limits: { min, max }, double, from } = options;\n    const isDoubleWithFrom = double && from;\n    if (isDoubleWithFrom && max < from) {\n      this.options.from = max;\n    }\n    this.options.step = max - min;\n    this.options.to = max;\n    this.options.limits.max = max;\n  }\n\n  private setValuesForSingleSlider(options: IConfig): void {\n    const {\n      limits: { min, max },\n      from,\n      to,\n      step,\n    } = options;\n    if (max < to) {\n      this.options.to = max;\n    } else if (min > to) {\n      this.options.to = min;\n    } else {\n      this.setValue(to, min, max, step);\n    }\n    if (typeof from === 'number') {\n      this.options.from = null;\n    }\n  }\n\n  private setValuesForDoubleSlider(options: IConfig): void {\n    const {\n      limits: { min, max },\n      from,\n      to,\n      step,\n    } = options;\n    if (from === null || from === undefined) {\n      this.options.from = min;\n    }\n    if (typeof from === 'number' && typeof to === 'number') {\n      if (min > from && min > to) {\n        this.options.from = min;\n        this.options.to = min;\n      } else if (max < from && max < to) {\n        this.options.from = max;\n        this.options.to = max;\n      } else if (max < to) {\n        this.options.to = max;\n        this.setValueFrom(from, min, max, step, to);\n      } else if (max < from) {\n        this.options.from = max;\n        this.setValueTo(to, min, max, step);\n      } else if (min > to) {\n        this.options.to = min;\n        this.setValueFrom(from, min, max, step, to);\n      } else if (min > from) {\n        this.options.from = min;\n        this.setValueTo(to, min, max, step);\n      } else {\n        if (from !== this.options.from && from > to) {\n          return;\n        }\n        this.setValueFrom(from, min, max, step, to);\n        this.setValueTo(to, min, max, step);\n      }\n    }\n  }\n\n  private setValue(value: number, min: number, max: number, step: number): void {\n    this.options.to = this.calcRoundedValue(\n      value,\n      step,\n      max,\n      min,\n    );\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  private calcRoundedValue(\n    value: number,\n    step: number,\n    max: number,\n    min: number,\n  ): number {\n    const odd: number = Math.abs((min - value) % step);\n    if (odd === 0) {\n      return value;\n    }\n    const numberOfSteps: number = Math.round((min - value) / step);\n    const newValue: number = step * Math.abs(numberOfSteps) + min;\n    return newValue > max ? max : newValue;\n  }\n\n  private setValueTo(value: number, min: number, max: number, step: number): void {\n    if (step && typeof value === 'number') {\n      this.options.to = this.calcRoundedValue(\n        value,\n        step,\n        max,\n        min,\n      );\n    }\n  }\n\n  private setValueFrom(value: number, min: number, max: number, step: number, to: number): void {\n    if (value > to && to) {\n      return;\n    }\n    if (step && typeof value === 'number') {\n      this.options.from = this.calcRoundedValue(\n        value,\n        step,\n        max,\n        min,\n      );\n    }\n  }\n\n  private setValAndBroadcast(value: number, isFrom: boolean): void {\n    const { limits, double, showValueNote } = this.options;\n    const data = { isDouble: double, isFrom, showValueNote };\n    const options = {\n      limits,\n      isFrom,\n      value,\n    };\n    if (isFrom) {\n      this.options.from = this.calcValueWithStep(value);\n      options.value = this.options.from;\n    } else {\n      this.options.to = this.calcValueWithStep(value);\n      options.value = this.options.to;\n    }\n    this.broadcast(EventTypes.CALC_POSITION, options);\n    this.broadcast(EventTypes.SET_POSITION, data);\n    this.callOnChange();\n  }\n\n  private isValFromMovesOverValTo(value: number): boolean {\n    const { to } = this.options;\n    return value > to;\n  }\n\n  private isValToMovesOverValFrom(value: number): boolean {\n    const { from } = this.options;\n    return from || from === 0 ? value < from : false;\n  }\n\n  private calcValueWithStep(value: number): number {\n    const { limits: { min, max }, step } = this.options;\n    const allNumberOfSteps: number = Math.floor(Math.abs(max - min) / step);\n    const maxStepValue: number = min + allNumberOfSteps * step;\n    const numberOfSteps: number = Math.round((value - min) / step);\n    let newValue: number = min + step * numberOfSteps;\n    if (newValue < min) {\n      newValue += step;\n    }\n    if (newValue > max) {\n      newValue -= step;\n    }\n    if (value > maxStepValue) {\n      newValue = value > maxStepValue + (max - maxStepValue) / 2 ? max : maxStepValue;\n    }\n    return newValue;\n  }\n}\n\nexport { Model, IConfig };\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","class EventObserver {\n  public observers: { [event: string]: Function[] };\n\n  constructor() {\n    this.observers = {};\n  }\n\n  public addObserver(event: string, newObserver: Function): void {\n    if (this.observers[event]) {\n      if (this.observers[event].includes(newObserver)) {\n        throw new Error('Observer is already in the list!');\n      }\n      this.observers[event].push(newObserver);\n    } else {\n      this.observers[event] = [newObserver];\n    }\n  }\n\n  public broadcast(event: string, data?: unknown): void {\n    if (this.observers[event] === undefined) {\n      throw new Error('There is no such observer in the list!');\n    }\n    this.observers[event].forEach((subscriber) => {\n      subscriber(data);\n    });\n  }\n}\n\nexport default EventObserver;\n","enum EventTypes {\n  CHANGE_POSITION = 'CHANGE_POSITION',\n  CALC_POSITION = 'CALC_POSITION',\n  SET_POSITION = 'SET_POSITION',\n  HANDLER_MOUSEDOWN_EVENT = 'HANDLER_MOUSEDOWN_EVENT',\n  HANDLER_MOUSEMOVE_EVENT = 'HANDLER_MOUSEMOVE_EVENT',\n  CALC_VALUE_NOTE_POSITION = 'CALC_VALUE_NOTE_POSITION',\n  SET_VALUE_NOTE_POS = 'SET_VALUE_NOTE_POS',\n  SET_BAR = 'SET_BAR',\n}\n\nexport default EventTypes;\n","import HandlerView from './HandlerView/HandlerView';\nimport TrackView from './TrackView/TrackView';\nimport ValueNoteView from './ValueNoteView/ValueNoteView';\nimport EventObserver from '../EventObserver/EventObserver';\nimport EventTypes from '../EventObserver/eventTypes';\n\nclass View extends EventObserver {\n  private el!: HTMLElement | null;\n\n  private handlerView!: HandlerView;\n\n  private handlerViewFrom?: HandlerView;\n\n  private valueNoteViewCommon?: ValueNoteView;\n\n  private trackView!: TrackView;\n\n  private adslider!: HTMLElement;\n\n  private handlerShift!: number;\n\n  private areHandlersInOnePoint!: boolean;\n\n  private mousedownClientX!: number;\n\n  private mousedownClientY!: number;\n\n  private leadHandler!: HandlerView;\n\n  private isHandlerTo!: boolean;\n\n  private isHandlerFrom!: boolean;\n\n  constructor(container: HTMLElement) {\n    super();\n    this.render(container);\n    this.addObservers();\n  }\n\n  public updateView(options: {\n    vertical: boolean;\n    limits: { max: number; min: number };\n    showValueNote: boolean;\n    double: boolean;\n    from?: number | null;\n    to: number;\n    step: number;\n  }): void {\n    const {\n      vertical, limits, showValueNote, double, from, to,\n    } = options;\n    this.setVerticalViewForSingle(vertical);\n    this.handlerView.calcPos({\n      edge: this.getEdge(this.handlerView),\n      value: to,\n      limits,\n    });\n    this.handlerView.setPos(double);\n    this.handlerView.setValue(to);\n    this.handlerView.showValueNote(showValueNote);\n    this.trackView.drawScale(options, this.handlerView.handler);\n    if (double) {\n      this.updateViewForDouble(\n        vertical,\n        from,\n        limits,\n        showValueNote,\n      );\n    } else if (this.handlerViewFrom) {\n      this.deleteHandlerFrom();\n      this.deleteValueNoteViewCommon();\n    }\n  }\n\n  public calcPos(options: {\n    value: number,\n    limits: { min: number; max: number },\n    isFrom: boolean,\n  }): void {\n    const { value, limits, isFrom } = options;\n    if (this.handlerViewFrom) {\n      const data = {\n        edge: this.getEdge(this.handlerViewFrom),\n        value,\n        limits,\n      };\n      if (isFrom) {\n        this.handlerViewFrom.calcPos(data);\n        this.handlerViewFrom.setValue(value);\n      } else {\n        this.handlerView.calcPos(data);\n        this.handlerView.setValue(value);\n      }\n    } else {\n      const data = {\n        edge: this.getEdge(this.handlerView),\n        value,\n        limits,\n      };\n      this.handlerView.calcPos(data);\n      this.handlerView.setValue(value);\n    }\n  }\n\n  public setPos(options: {\n    isDouble: boolean,\n    isFrom: boolean,\n    showValueNote: boolean\n  }): void {\n    const { isDouble, isFrom, showValueNote } = options;\n    if (this.handlerViewFrom) {\n      if (isFrom) {\n        this.handlerViewFrom.setPos(isDouble);\n      } else {\n        this.handlerView.setPos(isDouble);\n      }\n      this.setViewOfOneNote(showValueNote);\n    } else {\n      this.handlerView.setPos(isDouble);\n    }\n  }\n\n  private render(container: HTMLElement): void {\n    this.el = container;\n    this.adslider = document.createElement('div');\n    this.adslider.classList.add('adslider');\n    this.el.append(this.adslider);\n    this.trackView = new TrackView(this.adslider);\n    this.handlerView = new HandlerView(this.trackView.track);\n    this.handlerViewFrom = new HandlerView(this.trackView.track);\n    this.handlerView.addClassToValueNoteElement('adslider__note_type_to');\n    this.handlerViewFrom.addClassToValueNoteElement('adslider__handler_type_from');\n    this.handlerViewFrom.handler.classList.add('adslider__handler_type_from');\n  }\n\n  private deleteHandlerFrom(): void {\n    if (this.handlerViewFrom) {\n      this.handlerViewFrom.deleteInstance();\n      delete this.handlerViewFrom;\n    }\n  }\n\n  private deleteValueNoteViewCommon(): void {\n    if (this.valueNoteViewCommon) {\n      this.valueNoteViewCommon.note.remove();\n      delete this.valueNoteViewCommon;\n    }\n  }\n\n  private updateViewForDouble(\n    vertical: boolean,\n    from: number | null | undefined,\n    limits: { max: number; min: number },\n    showValueNote: boolean,\n  ): void {\n    if (!this.handlerViewFrom) {\n      this.renderHandlerFrom();\n    }\n    this.updateObservers();\n    this.setVerticalViewForDouble(vertical);\n    if (this.handlerViewFrom) {\n      this.handlerViewFrom.calcPos({\n        edge: this.getEdge(this.handlerViewFrom),\n        value: from,\n        limits,\n      });\n      this.handlerViewFrom.setPos(true);\n      this.handlerViewFrom.calcValuePos(this.handlerViewFrom.handler);\n      this.handlerViewFrom.setValuePos();\n      this.handlerViewFrom.setValue(from);\n      this.handlerViewFrom.showValueNote(showValueNote);\n      this.trackView.setBarLengthForDouble({\n        valueFrom: this.handlerViewFrom.getPos(),\n        valueTo: this.handlerView.getPos(),\n        handler: this.handlerView.handler,\n      });\n    }\n    this.setViewOfOneNote(showValueNote);\n  }\n\n  private renderHandlerFrom(): void {\n    this.handlerViewFrom = new HandlerView(this.trackView.track);\n    this.handlerViewFrom.handler.classList.add('adslider__handler_type_from');\n    this.handlerViewFrom.addClassToValueNoteElement('adslider__note_type_from');\n    this.handlerViewFrom.addObserver(EventTypes.HANDLER_MOUSEDOWN_EVENT, this.handleMouseDown);\n    this.handlerViewFrom.addObserver(EventTypes.HANDLER_MOUSEMOVE_EVENT, this.mouseMove);\n  }\n\n  private handleChangePos = (e: MouseEvent): void => {\n    if (this.isDouble()) {\n      if (\n        this.handlerView.handler.classList.contains(\n          'adslider__handler_direction_horizontal',\n        )\n      ) {\n        this.changeHandlerPosForDoubleHorizontal(e);\n      } else {\n        this.changeHandlerPosForDoubleVertical(e);\n      }\n    } else {\n      const data = {\n        shift: this.handlerView.getLength() / 2,\n        e,\n        handler: this.handlerView,\n      };\n      this.mouseMove(data);\n    }\n  }\n\n  private changeHandlerPosForDoubleVertical(e: MouseEvent): void {\n    if (this.handlerViewFrom) {\n      const handlerFromPos = this.handlerViewFrom.handler.getBoundingClientRect().top;\n      const handlerToPos = this.handlerView.handler.getBoundingClientRect().top;\n      const oddToFrom: number = handlerToPos - handlerFromPos;\n      const middlePos = oddToFrom / 2 + handlerFromPos + this.handlerView.getLength() / 2;\n      if (e.clientY >= middlePos) {\n        const data = {\n          shift: this.handlerViewFrom.getLength() / 2,\n          e,\n          handler: this.handlerViewFrom,\n        };\n        this.mouseMove(data);\n      } else {\n        const data = {\n          shift: this.handlerView.getLength() / 2,\n          e,\n          handler: this.handlerView,\n        };\n        this.mouseMove(data);\n      }\n    }\n  }\n\n  private changeHandlerPosForDoubleHorizontal(e: MouseEvent): void {\n    if (this.handlerViewFrom) {\n      const handlerFromPos = this.handlerViewFrom.handler.getBoundingClientRect().left;\n      const handlerToPos = this.handlerView.handler.getBoundingClientRect().left;\n      const oddToFrom: number = handlerToPos - handlerFromPos;\n      const middlePos = oddToFrom / 2 + handlerFromPos + this.handlerView.getLength() / 2;\n      this.checkIfHandlersInOnePlace(e);\n      if (e.clientX <= middlePos) {\n        const data = {\n          shift: this.handlerViewFrom.getLength() / 2,\n          e,\n          handler: this.handlerViewFrom,\n        };\n        this.mouseMove(data);\n      } else {\n        const data = {\n          shift: this.handlerView.getLength() / 2,\n          e,\n          handler: this.handlerView,\n        };\n        this.mouseMove(data);\n      }\n    }\n  }\n\n  private setVerticalViewForSingle(vertical: boolean): void {\n    if (vertical) {\n      this.adslider.classList.remove('adslider_direction_horizontal');\n      this.adslider.classList.add('adslider_direction_vertical');\n    } else {\n      this.adslider.classList.remove('adslider_direction_vertical');\n      this.adslider.classList.add('adslider_direction_horizontal');\n    }\n    this.trackView.setVerticalView(vertical);\n    this.handlerView.setVerticalView(vertical);\n  }\n\n  private setVerticalViewForDouble(vertical: boolean): void {\n    if (this.handlerViewFrom) {\n      this.handlerViewFrom.setVerticalView(vertical);\n    }\n  }\n\n  private checkIfHandlersInOnePlace(event: MouseEvent): void {\n    if (this.handlerViewFrom) {\n      if (this.isVertical()) {\n        if (this.handlerView.handler.style.bottom === this.handlerViewFrom.handler.style.bottom) {\n          this.areHandlersInOnePoint = true;\n          this.mousedownClientY = event.clientY;\n          this.isHandlerFrom = false;\n          this.isHandlerTo = false;\n        } else {\n          this.areHandlersInOnePoint = false;\n        }\n      } else if (this.handlerView.handler.style.left === this.handlerViewFrom.handler.style.left) {\n        this.areHandlersInOnePoint = true;\n        this.mousedownClientX = event.clientX;\n        this.isHandlerFrom = false;\n        this.isHandlerTo = false;\n      } else {\n        this.areHandlersInOnePoint = false;\n      }\n    } else {\n      this.areHandlersInOnePoint = false;\n    }\n  }\n\n  private handleMouseDown = (data: { event: MouseEvent; handler: HTMLElement }): void => {\n    const { event, handler } = data;\n    this.calcShift(event, handler);\n    this.checkIfHandlersInOnePlace(event);\n  }\n\n  private mouseMove = (data: {\n    shift: number,\n    e: MouseEvent,\n    handler: HandlerView\n  }): void => {\n    const { shift, e, handler } = data;\n    if (this.areHandlersInOnePoint) {\n      this.findLeadHandler(e, handler);\n    } else {\n      this.leadHandler = handler;\n    }\n    let newPos;\n    if (e.type === 'mousedown') {\n      newPos = this.calcNewPos(shift, e);\n    } else {\n      newPos = this.calcNewPos(this.handlerShift, e);\n    }\n    const edge: number = this.getEdge(this.leadHandler);\n    newPos = this.checkNewPos(newPos);\n    const isFrom = this.leadHandler.handler.classList.contains('adslider__handler_type_from');\n    const relPosition = newPos / edge;\n    const options = {\n      relPosition, isFrom,\n    };\n    this.broadcast(EventTypes.CHANGE_POSITION, options);\n  }\n\n  private findLeadHandler(e: MouseEvent, handler: HandlerView): void {\n    let isValueDecrease;\n    let isValueIncrease;\n    if (this.isVertical()) {\n      isValueIncrease = e.clientY < this.mousedownClientY;\n      isValueDecrease = e.clientY > this.mousedownClientY;\n    } else {\n      isValueIncrease = e.clientX > this.mousedownClientX;\n      isValueDecrease = e.clientX < this.mousedownClientX;\n    }\n    if (isValueIncrease) {\n      const isHandlerFromLeader = !this.isHandlerTo && this.isHandlerFrom;\n      if (isHandlerFromLeader && this.handlerViewFrom) {\n        this.leadHandler = this.handlerViewFrom;\n      } else {\n        this.leadHandler = this.handlerView;\n        this.isHandlerTo = true;\n        this.isHandlerFrom = false;\n      }\n    } else if (isValueDecrease) {\n      if (this.isHandlerTo && !this.isHandlerFrom) {\n        this.leadHandler = this.handlerView;\n      } else if (this.handlerViewFrom) {\n        this.leadHandler = this.handlerViewFrom;\n        this.isHandlerFrom = true;\n        this.isHandlerTo = false;\n      }\n    } else {\n      this.leadHandler = handler;\n    }\n  }\n\n  private getEdge(handler: HandlerView): number {\n    return this.trackView.getLength() - handler.getLength();\n  }\n\n  private checkNewPos(newPos: number): number {\n    const edge = this.getEdge(this.handlerView);\n    let newPosCopy = newPos;\n    if (newPos < 0) {\n      newPosCopy = 0;\n    } else if (newPos > edge) {\n      newPosCopy = edge;\n    }\n    return newPosCopy;\n  }\n\n  private calcShift(e: MouseEvent, handler: HTMLElement): void {\n    const shift = this.isVertical()\n      ? e.clientY - handler.getBoundingClientRect().bottom\n      : e.clientX - handler.getBoundingClientRect().left;\n    this.handlerShift = Math.abs(shift);\n  }\n\n  private isVertical(): boolean {\n    return this.adslider.classList.contains('adslider_direction_vertical');\n  }\n\n  private isDouble(): boolean {\n    return (!!this.handlerViewFrom);\n  }\n\n  private calcNewPos(shift: number, e: MouseEvent): number {\n    return this.isVertical()\n      ? this.trackView.track.getBoundingClientRect().bottom - e.clientY - shift\n      : e.clientX - shift - this.trackView.track.getBoundingClientRect().left;\n  }\n\n  private setViewOfOneNote(showValueNote: boolean): void {\n    if (this.isSmallDistanceBetweenNotes()) {\n      this.makeCommonNoteView();\n      this.showCommonValueNote(showValueNote);\n    } else if (this.valueNoteViewCommon) {\n      this.removeCommonNoteView();\n      this.handlerView.showValueNote(showValueNote);\n      if (this.handlerViewFrom) {\n        this.handlerViewFrom.showValueNote(showValueNote);\n      }\n    }\n  }\n\n  private isSmallDistanceBetweenNotes(): boolean {\n    if (this.handlerViewFrom) {\n      const distAmongNotes: number = this.handlerView.getValueNotePos() - this.handlerViewFrom.getValueNotePos();\n      return distAmongNotes < this.handlerView.getValueNoteSize();\n    }\n    return false;\n  }\n\n  private makeCommonNoteView(): void {\n    if (this.handlerViewFrom) {\n      this.handlerViewFrom.showValueNote(false);\n    }\n    this.handlerView.showValueNote(false);\n    if (this.valueNoteViewCommon) {\n      this.updateCommonNoteView();\n    } else {\n      this.valueNoteViewCommon = new ValueNoteView(this.trackView.track);\n      this.valueNoteViewCommon.note.classList.add('adslider__note_common');\n      this.valueNoteViewCommon.setVerticalView(this.isVertical());\n      this.updateCommonNoteView();\n    }\n  }\n\n  private showCommonValueNote(data: boolean): void {\n    if (data && this.valueNoteViewCommon) {\n      this.valueNoteViewCommon.note.classList.remove('adslider__note_hide');\n      this.valueNoteViewCommon.note.classList.add('adslider__note_show');\n    } else if (this.valueNoteViewCommon) {\n      this.valueNoteViewCommon.note.classList.remove('adslider__note_show');\n      this.valueNoteViewCommon.note.classList.add('adslider__note_hide');\n    }\n  }\n\n  private updateCommonNoteView(): void {\n    if (this.handlerViewFrom && this.valueNoteViewCommon) {\n      const valueTo = this.handlerView.getValueOfNote();\n      const valueFrom = this.handlerViewFrom.getValueOfNote();\n      this.valueNoteViewCommon.setValueForTwo(valueFrom, valueTo);\n      const leftEdgeOfHandlerFrom = this.handlerViewFrom.getPos();\n      const rightEdgeOfHandlerTo = this.handlerView.getPos() + this.handlerView.getLength();\n      const distAmongEdgesOfHandlers = rightEdgeOfHandlerTo - leftEdgeOfHandlerFrom;\n      this.valueNoteViewCommon.valueNotePos = leftEdgeOfHandlerFrom + distAmongEdgesOfHandlers / 2;\n      this.valueNoteViewCommon.setPos();\n    }\n  }\n\n  private removeCommonNoteView(): void {\n    if (this.handlerViewFrom && this.valueNoteViewCommon) {\n      this.handlerView.showValueNote(true);\n      this.handlerViewFrom.showValueNote(true);\n      this.valueNoteViewCommon.note.remove();\n      delete this.valueNoteViewCommon;\n    }\n  }\n\n  private handleSetBar = (data: {\n    handler: HTMLElement,\n    vertical: boolean,\n    double: boolean\n  }): void => {\n    if (!data.double) {\n      this.trackView.setBarLength(data.handler);\n    } else if (this.handlerViewFrom) {\n      const options = {\n        valueFrom: this.handlerViewFrom.getPos(),\n        valueTo: this.handlerView.getPos(),\n        handler: data.handler,\n      };\n      this.trackView.setBarLengthForDouble(options);\n    }\n  }\n\n  private addObservers(): void {\n    this.handlerView.addObserver(EventTypes.HANDLER_MOUSEDOWN_EVENT, this.handleMouseDown);\n    this.handlerView.addObserver(EventTypes.HANDLER_MOUSEMOVE_EVENT, this.mouseMove);\n    if (this.handlerViewFrom) {\n      this.handlerViewFrom.addObserver(EventTypes.HANDLER_MOUSEDOWN_EVENT, this.handleMouseDown);\n      this.handlerViewFrom.addObserver(EventTypes.HANDLER_MOUSEMOVE_EVENT, this.mouseMove);\n    }\n    this.trackView.addObserver(EventTypes.HANDLER_MOUSEDOWN_EVENT, this.handleChangePos);\n    this.handlerView.addObserver(EventTypes.CALC_VALUE_NOTE_POSITION, this.handleCalcValueNotePos);\n    this.handlerView.addObserver(EventTypes.SET_VALUE_NOTE_POS, this.handleSetValueNotePos);\n    this.handlerView.addObserver(EventTypes.SET_BAR, this.handleSetBar);\n  }\n\n  private updateObservers(): void {\n    if (this.handlerViewFrom && this.handlerViewFrom) {\n      if (!Object.prototype.hasOwnProperty.call(this.handlerViewFrom.observers, EventTypes.CALC_VALUE_NOTE_POSITION)) {\n        this.handlerViewFrom.addObserver(EventTypes.CALC_VALUE_NOTE_POSITION, this.handleCalcValueNoteFromPos);\n        this.handlerViewFrom.addObserver(EventTypes.SET_VALUE_NOTE_POS, this.handleSetValueNoteFromPos);\n        this.handlerViewFrom.addObserver(EventTypes.SET_BAR, this.handleSetBar);\n      }\n    }\n  }\n\n  private handleSetValueNoteFromPos = () => {\n    if (this.handlerViewFrom) {\n      this.handlerViewFrom.setValuePos();\n    }\n  }\n\n  private handleCalcValueNoteFromPos = (handler: HTMLElement) => {\n    if (this.handlerViewFrom) {\n      this.handlerViewFrom.calcValuePos(handler);\n    }\n  }\n\n  private handleSetValueNotePos = () => {\n    this.handlerView.setValuePos();\n  }\n\n  private handleCalcValueNotePos = (handler: HTMLElement) => {\n    this.handlerView.calcValuePos(handler);\n  }\n}\n\nexport default View;\n","import EventObserver from '../../EventObserver/EventObserver';\nimport EventTypes from '../../EventObserver/eventTypes';\nimport ValueNoteView from '../ValueNoteView/ValueNoteView';\n\nclass HandlerView extends EventObserver {\n  public handler!: HTMLElement;\n\n  private parent!: HTMLElement;\n\n  private handlerPos!: number;\n\n  private valueNoteView!: ValueNoteView;\n\n  private handleMouseMove!: (e: MouseEvent) => void;\n\n  private handleMouseUp!: (e: MouseEvent) => void;\n\n  constructor(parent: HTMLElement) {\n    super();\n    this.render(parent);\n    this.handleMouseMove = this.mouseMove.bind(this);\n    this.handleMouseUp = this.mouseUp.bind(this);\n  }\n\n  public getLength(): number {\n    return this.isVertical()\n      ? parseInt(getComputedStyle(this.handler).height, 10)\n      : parseInt(getComputedStyle(this.handler).width, 10);\n  }\n\n  public getPos(): number {\n    return this.isVertical()\n      ? parseInt(getComputedStyle(this.handler).bottom, 10)\n      : parseInt(getComputedStyle(this.handler).left, 10);\n  }\n\n  public calcPos(options: {\n    edge: number,\n    value: number | null | undefined,\n    limits: { min: number; max: number },\n  }): void {\n    const { edge, value, limits: { min, max } } = options;\n    if (value !== null && value !== undefined) {\n      const oddValMin: number = value - min;\n      const oddMaxMin: number = max - min;\n      this.handlerPos = edge * (oddValMin / oddMaxMin);\n    }\n  }\n\n  public setPos(isDouble: boolean): void {\n    if (this.isVertical()) {\n      this.handler.style.left = '';\n      this.handler.style.bottom = `${this.handlerPos}px`;\n    } else {\n      this.handler.style.bottom = '';\n      this.handler.style.left = `${this.handlerPos}px`;\n    }\n    this.broadcast(EventTypes.CALC_VALUE_NOTE_POSITION, this.handler);\n    this.broadcast(EventTypes.SET_VALUE_NOTE_POS);\n    const data = { handler: this.handler, vertical: this.isVertical(), double: isDouble };\n    this.broadcast(EventTypes.SET_BAR, data);\n  }\n\n  public setVerticalView(verticalView: boolean): void {\n    if (verticalView) {\n      this.handler.classList.remove('adslider__handler_direction_horizontal');\n      this.handler.classList.add('adslider__handler_direction_vertical');\n    } else {\n      this.handler.classList.remove('adslider__handler_direction_vertical');\n      this.handler.classList.add('adslider__handler_direction_horizontal');\n    }\n    this.valueNoteView.setVerticalView(verticalView);\n  }\n\n  public setValue(value: number | null | undefined): void {\n    this.valueNoteView.setValue(value);\n  }\n\n  public showValueNote(isValueShown: boolean): void {\n    this.valueNoteView.showValueNote(isValueShown);\n  }\n\n  public calcValuePos(handler: HTMLElement): void {\n    this.valueNoteView.calcPos(handler);\n  }\n\n  public setValuePos(): void {\n    this.valueNoteView.setPos();\n  }\n\n  public getValueNotePos(): number {\n    return this.valueNoteView.getPos();\n  }\n\n  public getValueNoteSize(): number {\n    return this.valueNoteView.getSize();\n  }\n\n  public getValueOfNote(): number {\n    return this.valueNoteView.getValue();\n  }\n\n  public addClassToValueNoteElement(className: string): void {\n    this.valueNoteView.addClassToNoteElement(className);\n  }\n\n  public deleteInstance(): void {\n    this.handler.remove();\n    this.valueNoteView.note.remove();\n  }\n\n  private isVertical(): boolean {\n    return this.handler.classList.contains('adslider__handler_direction_vertical');\n  }\n\n  private render(parent: HTMLElement): void {\n    this.parent = parent;\n    this.handler = document.createElement('div');\n    this.handler.classList.add('adslider__handler');\n    this.parent.append(this.handler);\n    this.valueNoteView = new ValueNoteView(parent);\n    this.handler.addEventListener('mousedown', this.handleHandlerMouseDown);\n  }\n\n  private handleHandlerMouseDown = (event: MouseEvent): void => {\n    event.preventDefault();\n    event.stopPropagation();\n    const data = { event, handler: this.handler };\n    this.broadcast(EventTypes.HANDLER_MOUSEDOWN_EVENT, data);\n    this.bindMousemove(event);\n  }\n\n  private bindMousemove(event: MouseEvent): void {\n    if (event.type === 'mousedown') {\n      document.addEventListener('mousemove', this.handleMouseMove);\n      document.addEventListener('mouseup', this.handleMouseUp);\n    }\n  }\n\n  private mouseMove(e: MouseEvent): void {\n    const data = { shift: null, e, handler: this };\n    this.broadcast(EventTypes.HANDLER_MOUSEMOVE_EVENT, data);\n  }\n\n  private mouseUp(): void {\n    document.removeEventListener('mouseup', this.handleMouseUp);\n    document.removeEventListener('mousemove', this.handleMouseMove);\n  }\n}\n\nexport default HandlerView;\n","import EventObserver from '../../EventObserver/EventObserver';\n\nclass ValueNoteView extends EventObserver {\n  public note!: HTMLElement;\n\n  public valueNotePos!: number;\n\n  private value!: HTMLElement;\n\n  constructor(parent: HTMLElement) {\n    super();\n    this.render(parent);\n  }\n\n  public setValue(value: number | null | undefined): void {\n    this.value.textContent = String(value);\n  }\n\n  public getValue(): number {\n    return Number(this.value.textContent);\n  }\n\n  public setValueForTwo(valueFrom: number, valueTo: number): void {\n    const valFrom = String(valueFrom);\n    const valTo = String(valueTo);\n    this.value.textContent = `${valFrom} - ${valTo}`;\n  }\n\n  public showValueNote(data: boolean): void {\n    if (data) {\n      this.note.classList.remove('adslider__note_hide');\n      this.note.classList.add('adslider__note_show');\n    } else {\n      this.note.classList.remove('adslider__note_show');\n      this.note.classList.add('adslider__note_hide');\n    }\n  }\n\n  public calcPos(handler: HTMLElement): void {\n    if (this.isVertical()) {\n      const handlerBottomPos: string = getComputedStyle(handler).bottom;\n      const handlerHeight: string = getComputedStyle(handler).height;\n      this.valueNotePos = parseInt(handlerBottomPos, 10) + parseInt(handlerHeight, 10) / 2;\n    } else {\n      const handlerLeftPos: string = getComputedStyle(handler).left;\n      const handlerWidth: string = getComputedStyle(handler).width;\n      this.valueNotePos = parseInt(handlerLeftPos, 10) + parseInt(handlerWidth, 10) / 2;\n    }\n  }\n\n  public setPos(): void {\n    if (this.note.classList.contains('adslider__note_direction_vertical')) {\n      this.note.style.left = '';\n      this.note.style.bottom = `${this.valueNotePos}px`;\n    } else {\n      this.note.style.bottom = '';\n      this.note.style.left = `${this.valueNotePos}px`;\n    }\n  }\n\n  public setVerticalView(verticalView: boolean): void {\n    if (verticalView) {\n      this.note.classList.remove('adslider__note_direction_horizontal');\n      this.note.classList.add('adslider__note_direction_vertical');\n    } else {\n      this.note.classList.remove('adslider__note_direction_vertical');\n      this.note.classList.add('adslider__note_direction_horizontal');\n    }\n  }\n\n  public getSize(): number {\n    return this.note.classList.contains('adslider__note_direction_vertical') ? parseInt(getComputedStyle(this.note).height, 10) : parseInt(getComputedStyle(this.note).width, 10);\n  }\n\n  public getPos(): number {\n    return this.note.classList.contains('adslider__note_direction_vertical') ? parseInt(getComputedStyle(this.note).bottom, 10) : parseInt(getComputedStyle(this.note).left, 10);\n  }\n\n  public addClassToNoteElement(className: string): void {\n    this.note.classList.add(className);\n  }\n\n  private render(parent: HTMLElement): void {\n    this.note = document.createElement('div');\n    this.value = document.createElement('p');\n    this.note.classList.add('adslider__note');\n    this.value.classList.add('adslider__value');\n    this.note.append(this.value);\n    parent.append(this.note);\n  }\n\n  private isVertical(): boolean {\n    return this.note.classList.contains('adslider__note_direction_vertical');\n  }\n}\n\nexport default ValueNoteView;\n","import EventObserver from '../../EventObserver/EventObserver';\r\nimport EventTypes from '../../EventObserver/eventTypes';\r\nimport { IConfig } from '../../Model/Model';\r\nimport BarView from '../BarView/BarView';\r\nimport ScaleView from '../ScaleView/ScaleView';\r\n\r\nclass TrackView extends EventObserver {\r\n  public track!: HTMLElement;\r\n\r\n  private barView!: BarView;\r\n\r\n  private scaleView!: ScaleView;\r\n\r\n  constructor(parent: HTMLElement) {\r\n    super();\r\n    this.render(parent);\r\n    this.addListeners();\r\n  }\r\n\r\n  public getLength(): number {\r\n    return this.track.classList.contains('adslider__track_direction_vertical') ? parseInt(getComputedStyle(this.track).height, 10) : parseInt(getComputedStyle(this.track).width, 10);\r\n  }\r\n\r\n  public setVerticalView(verticalView: boolean): void {\r\n    if (verticalView) {\r\n      this.track.classList.remove('adslider__track_direction_horizontal');\r\n      this.track.classList.add('adslider__track_direction_vertical');\r\n    } else {\r\n      this.track.classList.remove('adslider__track_direction_vertical');\r\n      this.track.classList.add('adslider__track_direction_horizontal');\r\n    }\r\n    this.barView.setVerticalView(verticalView);\r\n  }\r\n\r\n  public setBarLengthForDouble(options: {\r\n    valueFrom: number;\r\n    valueTo: number;\r\n    handler: HTMLElement;\r\n  }): void {\r\n    this.barView.setLengthForDouble(options);\r\n  }\r\n\r\n  public setBarLength(handler: HTMLElement): void {\r\n    this.barView.setLength(handler);\r\n  }\r\n\r\n  public drawScale(options: IConfig, handler: HTMLElement): void {\r\n    this.scaleView.drawScale(options, handler);\r\n  }\r\n\r\n  private render(parent: HTMLElement): void {\r\n    this.track = document.createElement('div');\r\n    this.track.classList.add('adslider__track');\r\n    this.barView = new BarView(this.track);\r\n    this.scaleView = new ScaleView(this.track);\r\n    parent.append(this.track);\r\n  }\r\n\r\n  private addListeners(): void {\r\n    this.track.addEventListener('mousedown', this.handleTrackMouseDown);\r\n  }\r\n\r\n  private handleTrackMouseDown = (event: MouseEvent): void => {\r\n    this.broadcast(EventTypes.HANDLER_MOUSEDOWN_EVENT, event);\r\n  }\r\n}\r\n\r\nexport default TrackView;\r\n","import EventObserver from '../../EventObserver/EventObserver';\n\nclass BarView extends EventObserver {\n  private bar!: HTMLElement;\n\n  private barPos!: number;\n\n  constructor(parent: HTMLElement) {\n    super();\n    this.render(parent);\n  }\n\n  public setVerticalView(verticalView: boolean): void {\n    if (verticalView) {\n      this.bar.classList.remove('adslider__bar_direction_horizontal');\n      this.bar.classList.add('adslider__bar_direction_vertical');\n    } else {\n      this.bar.classList.remove('adslider__bar_direction_vertical');\n      this.bar.classList.add('adslider__bar_direction_horizontal');\n    }\n  }\n\n  public setLength(handler: HTMLElement): void {\n    let handlerPos: number;\n    let handlerLength: number;\n    this.bar.style.bottom = '';\n    this.bar.style.left = '';\n    if (this.bar.classList.contains('adslider__bar_direction_horizontal')) {\n      this.bar.style.height = '';\n      handlerPos = parseInt(getComputedStyle(handler).left, 10);\n      handlerLength = parseInt(getComputedStyle(handler).width, 10);\n      this.calcBarPosForSingle(handlerPos, handlerLength);\n      this.bar.style.width = `${this.barPos}px`;\n    } else {\n      this.bar.style.width = '';\n      handlerPos = parseInt(getComputedStyle(handler).bottom, 10);\n      handlerLength = parseInt(getComputedStyle(handler).height, 10);\n      this.calcBarPosForSingle(handlerPos, handlerLength);\n      this.bar.style.height = `${this.barPos}px`;\n    }\n  }\n\n  public setLengthForDouble(options: {\n    valueFrom: number;\n    valueTo: number;\n    handler: HTMLElement;\n  }): void {\n    const { valueFrom, valueTo, handler } = options;\n    const handlerLength: number = parseInt(\n      getComputedStyle(handler).width,\n      10,\n    );\n    const barRightEdge: number = valueTo + handlerLength / 2;\n    const barLeftEdge: number = valueFrom + handlerLength / 2;\n    const barLength: number = Math.abs(barRightEdge - barLeftEdge);\n    if (this.bar.classList.contains('adslider__bar_direction_horizontal')) {\n      this.bar.style.height = '';\n      this.bar.style.bottom = '';\n      this.bar.style.width = `${barLength}px`;\n      this.calcBarPosForDouble(valueFrom, valueTo, handlerLength);\n      this.bar.style.left = `${this.barPos}px`;\n    } else {\n      this.bar.style.width = '';\n      this.bar.style.left = '';\n      this.bar.style.height = `${barLength}px`;\n      this.calcBarPosForDouble(valueFrom, valueTo, handlerLength);\n      this.bar.style.bottom = `${this.barPos}px`;\n    }\n  }\n\n  private render(parent: HTMLElement): void {\n    this.bar = document.createElement('div');\n    this.bar.classList.add('adslider__bar');\n    parent.append(this.bar);\n  }\n\n  private calcBarPosForSingle(handlerPos: number, handlerLength: number): void {\n    this.barPos = handlerPos + handlerLength / 2;\n  }\n\n  private calcBarPosForDouble(\n    handlerPosFrom: number,\n    handlerPosTo: number,\n    handlerLength: number,\n  ): void {\n    this.barPos = handlerPosFrom < handlerPosTo\n      ? handlerPosFrom + handlerLength / 2\n      : handlerPosTo + handlerLength / 2;\n  }\n}\n\nexport default BarView;\n","import { IConfig } from '../../Model/Model';\nimport EventObserver from '../../EventObserver/EventObserver';\n\nclass ScaleView extends EventObserver {\n  private parent!: HTMLElement;\n\n  private scale!: HTMLElement;\n\n  private numberOfLines!: number;\n\n  private lineArray: Array<Element> = [];\n\n  private signArray: Array<HTMLDivElement> = [];\n\n  constructor(parent: HTMLElement) {\n    super();\n    this.render(parent);\n  }\n\n  public drawScale(options: IConfig, handler: HTMLElement): void {\n    if (options.vertical) {\n      this.scale.classList.remove('adslider__scale_direction_horizontal');\n      this.scale.classList.add('adslider__scale_direction_vertical');\n    } else {\n      this.scale.classList.remove('adslider__scale_direction_vertical');\n      this.scale.classList.add('adslider__scale_direction_horizontal');\n    }\n    const {\n      step,\n      limits: { min, max },\n    } = options;\n    const odd: number = max - min;\n    this.calcNumberOfLines(step, odd);\n    this.setScalePos(handler);\n    this.createListOfScaleLines(options);\n    this.renderScaleSign(options);\n  }\n\n  private render(parent: HTMLElement): void {\n    this.parent = parent;\n    this.scale = document.createElement('div');\n    this.scale.classList.add('adslider__scale');\n    this.parent.append(this.scale);\n  }\n\n  private renderScaleLine(): HTMLElement {\n    const line: HTMLElement = document.createElement('div');\n    line.classList.add('adslider__scale-line');\n    if (this.isVertical()) {\n      line.classList.add('adslider__scale-line_direction_vertical');\n    } else {\n      line.classList.add('adslider__scale-line_direction_horizontal');\n    }\n    return line;\n  }\n\n  private calcNumberOfLines(step: number, odd: number): void {\n    this.numberOfLines = odd % step === 0 ? odd / step + 1 : Math.floor(odd / step + 2);\n  }\n\n  private setScalePos(handler: HTMLElement): void {\n    let handlerLength: number;\n    let trackLength: number;\n    let scaleLength: number;\n    if (this.isVertical()) {\n      this.scale.style.width = '';\n      this.scale.style.left = '';\n      handlerLength = parseInt(getComputedStyle(handler).height, 10);\n      trackLength = parseInt(getComputedStyle(this.parent).height, 10);\n      scaleLength = trackLength - handlerLength;\n      this.scale.style.height = `${scaleLength}px`;\n      this.scale.style.top = `${handlerLength / 2}px`;\n    } else {\n      this.scale.style.height = '';\n      this.scale.style.top = '';\n      handlerLength = parseInt(getComputedStyle(handler).width, 10);\n      trackLength = parseInt(getComputedStyle(this.parent).width, 10);\n      scaleLength = trackLength - handlerLength;\n      this.scale.style.width = `${scaleLength}px`;\n      this.scale.style.left = `${handlerLength / 2}px`;\n    }\n  }\n\n  private createListOfScaleLines(options: IConfig): void {\n    const {\n      step,\n      limits: { min, max },\n    } = options;\n    this.scale.innerHTML = '';\n    const stepPercentage = (step / (max - min)) * 100;\n    for (let i = 0; i < this.numberOfLines; i += 1) {\n      const line = this.renderScaleLine();\n      this.scale.append(line);\n      const position = i * stepPercentage > 100 ? 100 : i * stepPercentage;\n      if (this.isVertical()) {\n        line.style.bottom = `${position}%`;\n      } else {\n        line.style.left = `${position}%`;\n      }\n    }\n  }\n\n  private renderScaleSign(options: IConfig): void {\n    const listOfLines = this.scale.querySelectorAll('.adslider__scale-line');\n    listOfLines.forEach((line, index) => {\n      const value: number = this.calcSigns(index, options);\n      const text = document.createElement('div');\n      text.classList.add('adslider__scale-text');\n      if (this.isVertical()) {\n        text.classList.add('adslider__scale-text_direction_vertical');\n      } else {\n        text.classList.add('adslider__scale-text_direction_horizontal');\n      }\n      text.innerText = `${value}`;\n      line.append(text);\n      this.lineArray.push(line);\n      this.signArray.push(text);\n    });\n    this.capacityCheckForSign();\n  }\n\n  private capacityCheckForSign(): void {\n    let isSmallDistanceBetweenSigns: boolean;\n    if (this.isVertical()) {\n      isSmallDistanceBetweenSigns = this.isSmallDistanceBetweenVerticalSigns();\n    } else {\n      isSmallDistanceBetweenSigns = this.isSmallDistanceBetweenHorizontalSigns();\n    }\n    if (isSmallDistanceBetweenSigns) {\n      this.hideSigns();\n    }\n    this.lineArray = [];\n    this.signArray = [];\n  }\n\n  private isSmallDistanceBetweenVerticalSigns(): boolean {\n    return this.signArray.some((item, i, array) => {\n      if (i > 0) {\n        return (\n          array[i - 1].getBoundingClientRect().top\n            - item.getBoundingClientRect().bottom\n          < 0\n        );\n      }\n      return false;\n    });\n  }\n\n  private isSmallDistanceBetweenHorizontalSigns(): boolean {\n    return this.signArray.some((item, i, array) => {\n      if (i > 0) {\n        return (\n          item.getBoundingClientRect().left\n            - array[i - 1].getBoundingClientRect().right\n          < 0\n        );\n      }\n      return false;\n    });\n  }\n\n  private hideSigns(): void {\n    this.lineArray.forEach((line, index, array) => {\n      if (index % 2 !== 0 && index !== array.length - 1) {\n        line.classList.add('adslider__scale-line_hidden');\n      }\n    });\n    this.setPenultimateSignView();\n    this.capacityCheckForSign();\n  }\n\n  private setPenultimateSignView() {\n    let distanceBetweenLastSigns: number;\n    if (this.isVertical()) {\n      distanceBetweenLastSigns = this.calcDistanceBetweenLastVerticalSigns();\n    } else {\n      distanceBetweenLastSigns = this.calcDistanceBetweenLastHorizontalSigns();\n    }\n    if (distanceBetweenLastSigns < 0) {\n      this.lineArray[this.lineArray.length - 2].classList.add(\n        'adslider__scale-line_hidden',\n      );\n      this.lineArray = this.lineArray.filter(\n        (_el, i, array) => (!(i % 2) && i !== array.length - 2) || i === array.length - 1,\n      );\n      this.signArray = this.signArray.filter(\n        (_el, i, array) => (!(i % 2) && i !== array.length - 2) || i === array.length - 1,\n      );\n    } else {\n      this.lineArray = this.lineArray.filter((_el, i) => !(i % 2));\n      this.signArray = this.signArray.filter((_el, i) => !(i % 2));\n    }\n  }\n\n  private calcDistanceBetweenLastVerticalSigns(): number {\n    const lastSignPos = this.signArray[this.signArray.length - 1].getBoundingClientRect().top;\n    const preLastSignPos = this.signArray[this.signArray.length - 2].getBoundingClientRect().bottom;\n    return lastSignPos - preLastSignPos;\n  }\n\n  private calcDistanceBetweenLastHorizontalSigns(): number {\n    const lastSignPos = this.signArray[this.signArray.length - 1].getBoundingClientRect().left;\n    const preLastSignPos = this.signArray[this.signArray.length - 2].getBoundingClientRect().right;\n    return preLastSignPos - lastSignPos;\n  }\n\n  private calcSigns(index: number, options: IConfig): number {\n    const {\n      step,\n      limits: { min, max },\n    } = options;\n    let value: number;\n    if (index === 0) {\n      value = min;\n    } else if (index === this.numberOfLines - 1) {\n      value = max;\n    } else {\n      value = index * step + min;\n    }\n    return Math.round(value);\n  }\n\n  private isVertical(): boolean {\n    return this.scale.classList.contains('adslider__scale_direction_vertical');\n  }\n}\n\nexport default ScaleView;\n","import './main.scss';\nimport { IConfig } from './Model/Model';\nimport Presenter from './Presenter/Presenter';\n\n(function ($) {\n  type SliderMethods = {\n    init(container: HTMLElement, options: IConfig): void,\n    update(options: IConfig): void,\n    getOptions(): IConfig,\n  };\n\n  const methods = {\n    init(container: HTMLElement, options: IConfig): void {\n      if ($(this).data('inited')) {\n        $.error('Plugin has already been initialized on this selector!');\n      } else {\n        const presenter = new Presenter(container, options);\n        $(this).data({\n          presenter, inited: true,\n        });\n      }\n    },\n    update(options: IConfig): void {\n      const presenter = $(this).data('presenter');\n      presenter.validateModel(options);\n      presenter.updateView();\n    },\n    getOptions(): IConfig {\n      return $(this).data('presenter').getModelOptions();\n    },\n  };\n\n  function adslider(this: typeof $, options: IConfig): void;\n  function adslider(this: typeof $, methodName: keyof SliderMethods, options: IConfig): void;\n  function adslider(this: typeof $, methodName: keyof SliderMethods): IConfig;\n\n  function adslider(\n    this: typeof $,\n    arg1: keyof SliderMethods | IConfig,\n    arg2?: IConfig,\n  ): void | IConfig {\n    if (typeof arg1 === 'string') {\n      if (arg1 === 'update' && arg2) {\n        return methods.update.call(this, arg2);\n      }\n      if (arg1 === 'getOptions' && !arg2) {\n        return methods.getOptions.call(this);\n      }\n    } else if (typeof arg1 === 'object' && !arg2) {\n      const el = ($(this) as unknown) as HTMLElement;\n      return methods.init.call(this, el, arg1);\n    }\n    $.error(`Method ${arg1} does not exist on jQuery.tooltip`);\n  }\n  $.fn.adslider = adslider;\n}(jQuery));\n"],"names":["module","exports","obj","__esModule","$4ddd20911bdffde1$var$_typeof","Symbol","iterator","obj1","constructor","prototype","$9cdeb6c8501ad27d$var$_View","$jvJOj","parcelRequire","$9cdeb6c8501ad27d$var$_eventTypes","Presenter","container","options","_this","this","$9cdeb6c8501ad27d$var$_classCallCheck2","$9cdeb6c8501ad27d$var$_defineProperty2","data","model","setValueFromHandlerPos","view","calcPos","setPos","Model","View","updateView","addObservers","value","init","addObserver","EventTypes","CHANGE_POSITION","handleCalcValue","CALC_POSITION","handleCalcPos","SET_POSITION","handleSetPos","instance","Constructor","TypeError","$50f1b79c30c64723$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","$582db2428387f3b4$var$_EventObserver2","$582db2428387f3b4$var$_eventTypes","$582db2428387f3b4$var$_classCallCheck2","_super","call","$582db2428387f3b4$var$_defineProperty2","$582db2428387f3b4$var$_assertThisInitialized2","validateValues","setLimitsAndValues","relPosition","isFrom","calcValueFromHandlerPos","conditionForReturn","isValToMovesOverValFrom","isValFromMovesOverValTo","setValAndBroadcast","callOnChange","defaultLimits","limits","min","max","showValueNote","step","vertical","from","to","onChange","relPos","_this$options$limits","odds","Math","round","_options$limits","double","isMinMaxNaN","Number","isNaN","isFromToNaN","setMinValue","setMaxValue","setValuesForDoubleSlider","setValuesForSingleSlider","_options$limits2","_options$limits3","_options$limits4","setValue","_options$limits5","setValueFrom","setValueTo","calcRoundedValue","abs","numberOfSteps","newValue","_this$options","isDouble","calcValueWithStep","broadcast","_this$options2","_this$options2$limits","maxStepValue","floor","EventObserver","self","ReferenceError","subClass","superClass","create","$aPOvv","$7e35d879846c1d0e$var$_setPrototypeOf","o","p","setPrototypeOf","o1","p1","__proto__","default","$28817a45901dd14a$require$_typeof","$6G58z","$d89b74bdee76cdd9$var$_getPrototypeOf","getPrototypeOf","$022611cfae90d020$var$_classCallCheck2","$022611cfae90d020$var$_defineProperty2","observers","event","newObserver","includes","Error","push","undefined","forEach","subscriber","$93ee0877bd231545$var$_HandlerView","$93ee0877bd231545$var$_TrackView","$93ee0877bd231545$var$_ValueNoteView","$93ee0877bd231545$var$_EventObserver2","$93ee0877bd231545$var$_eventTypes","$93ee0877bd231545$var$_classCallCheck2","$93ee0877bd231545$var$_defineProperty2","$93ee0877bd231545$var$_assertThisInitialized2","e","handlerView","handler","classList","contains","changeHandlerPosForDoubleHorizontal","changeHandlerPosForDoubleVertical","shift","getLength","mouseMove","calcShift","checkIfHandlersInOnePlace","newPos","areHandlersInOnePoint","findLeadHandler","leadHandler","type","calcNewPos","handlerShift","edge","getEdge","checkNewPos","handlerViewFrom","valueFrom","getPos","valueTo","trackView","setBarLengthForDouble","setBarLength","setValuePos","calcValuePos","render","setVerticalViewForSingle","drawScale","updateViewForDouble","deleteHandlerFrom","deleteValueNoteViewCommon","setViewOfOneNote","el","adslider","document","createElement","add","append","TrackView","HandlerView","track","addClassToValueNoteElement","deleteInstance","valueNoteViewCommon","note","remove","renderHandlerFrom","updateObservers","setVerticalViewForDouble","HANDLER_MOUSEDOWN_EVENT","handleMouseDown","HANDLER_MOUSEMOVE_EVENT","handlerFromPos","getBoundingClientRect","top","middlePos","clientY","left","clientX","setVerticalView","isVertical","style","bottom","mousedownClientY","isHandlerFrom","isHandlerTo","mousedownClientX","isValueDecrease","isValueIncrease","newPosCopy","isSmallDistanceBetweenNotes","makeCommonNoteView","showCommonValueNote","removeCommonNoteView","getValueNotePos","getValueNoteSize","ValueNoteView","updateCommonNoteView","getValueOfNote","setValueForTwo","leftEdgeOfHandlerFrom","distAmongEdgesOfHandlers","valueNotePos","handleChangePos","CALC_VALUE_NOTE_POSITION","handleCalcValueNotePos","SET_VALUE_NOTE_POS","handleSetValueNotePos","SET_BAR","handleSetBar","hasOwnProperty","handleCalcValueNoteFromPos","handleSetValueNoteFromPos","$ffb74a8c4b9c6c76$var$_EventObserver2","$ffb74a8c4b9c6c76$var$_eventTypes","$ffb74a8c4b9c6c76$var$_ValueNoteView","parent","$ffb74a8c4b9c6c76$var$_classCallCheck2","$ffb74a8c4b9c6c76$var$_defineProperty2","$ffb74a8c4b9c6c76$var$_assertThisInitialized2","preventDefault","stopPropagation","bindMousemove","handleMouseMove","bind","handleMouseUp","mouseUp","parseInt","getComputedStyle","height","width","oddValMin","oddMaxMin","handlerPos","concat","verticalView","valueNoteView","isValueShown","getSize","getValue","className","addClassToNoteElement","addEventListener","handleHandlerMouseDown","removeEventListener","$c8e395a3ab14e53b$var$_classCallCheck2","$c8e395a3ab14e53b$var$_defineProperty2","$c8e395a3ab14e53b$var$_assertThisInitialized2","textContent","String","valFrom","valTo","handlerBottomPos","handlerHeight","handlerLeftPos","handlerWidth","$cdb2ef08bf53ce9f$var$_EventObserver2","$cdb2ef08bf53ce9f$var$_eventTypes","$cdb2ef08bf53ce9f$var$_BarView","$cdb2ef08bf53ce9f$var$_ScaleView","$cdb2ef08bf53ce9f$var$_classCallCheck2","$cdb2ef08bf53ce9f$var$_defineProperty2","$cdb2ef08bf53ce9f$var$_assertThisInitialized2","addListeners","barView","setLengthForDouble","setLength","scaleView","BarView","ScaleView","handleTrackMouseDown","$34d9246d42b43934$var$_classCallCheck2","$34d9246d42b43934$var$_defineProperty2","$34d9246d42b43934$var$_assertThisInitialized2","bar","handlerLength","calcBarPosForSingle","barPos","barRightEdge","barLeftEdge","barLength","calcBarPosForDouble","handlerPosFrom","handlerPosTo","$57e0fb751bf32790$var$_classCallCheck2","$57e0fb751bf32790$var$_defineProperty2","$57e0fb751bf32790$var$_assertThisInitialized2","scale","odd","calcNumberOfLines","setScalePos","createListOfScaleLines","renderScaleSign","line","numberOfLines","scaleLength","innerHTML","stepPercentage","renderScaleLine","position","_this2","querySelectorAll","index","calcSigns","text","innerText","lineArray","signArray","capacityCheckForSign","isSmallDistanceBetweenVerticalSigns","isSmallDistanceBetweenHorizontalSigns","hideSigns","some","item","array","right","setPenultimateSignView","calcDistanceBetweenLastVerticalSigns","calcDistanceBetweenLastHorizontalSigns","filter","_el","lastSignPos","$","methods","$0574195d21ba86f9$var$_Presenter","jQuery","error","presenter","inited","update","validateModel","getOptions","getModelOptions","fn","arg1","arg2","$0574195d21ba86f9$var$_typeof2"],"version":3,"file":"index.5c57eec7.js.map"}