{"version":3,"sources":["eventObserver/eventObserver.js","model/model.js","view/handlerView/handlerView.js","view/trackView/trackView.js","view/valueNoteView/valueNoteView.js","view/view.js","presenter/presenter.js","createAdslider.js","adslider-native.js"],"names":["EventObserver","observers","newObserver","Error","forEach","observer","push","obs","i","length","splice","data","observersClone","slice","subscriber","Model","options","limits","min","max","defValue","value","updateValue","broadcast","values","updateLimits","HandlerView","parent","_render","eventMousemove","$handler","offsetWidth","document","createElement","classList","add","append","$track","addEventListener","e","preventDefault","shiftX","clientX","getBoundingClientRect","left","mouseMove","newLeft","rightEdge","style","handlerWidth","mouseUp","removeEventListener","TrackView","ValueNoteView","$note","$value","View","selector","$el","querySelector","track","$adslider","handler","valueNote","valueNoteView","_alignRelHandler","_getHandlerWidth","_setPosition","_addEventMousemove","addObserver","bind","Presenter","model","view","setValue","createAdslider","userOptions","presenter","window","adslider"],"mappings":";;AQAA;;;;AAEA8E,MAAM,CAACC,QAAP,GAAkBJ,uBAAlB;ADFA,ANAA,ACAA,AGAA;;AECA,AFAA;;AECA,AFAA;;ILFqB3E,AMAAuE,AHAAnB,ACAAC;AJCnB,AMAA,AHAA,ACAA,qBEAYmB,AHAA7C,ICAAA,CEAZ,CNAc,AGAd,CGAmB8C,CHAC,ECApB,CEAA,CFAoB,CEAK;ACGZ,APHC,AMAW,AHAL,ACAA,SGGEE,cAAT,CAAwBlB,QAAxB,EAAkCmB,WAAlC,EAA+C;AAC5D,MAAMH,IAAI,GAAG,IAAIjB,aAAJ,CAASC,QAAT,CAAb;AACA,APJE,AMAA,AHAA,ACAA,IFAiB/B,EKIb8C,GPJCvE,AMAAuE,AHAA7C,ACAAA,EGII,GAAG,ADJZ,CHAA,ACAA,EEAa6C,CCIGzD,APJhB,AGAcY,ACAAA,GJAG,CMAjB,CNAA,CGAA,ACAA,QGIY,CAAUiD,WAAV,CAAd;AACA,APJC,AMAC,AJAF,MKIMC,GDJCJ,IAAL,ECIa,CDJDA,ECII,EDJhB,ECIoBF,CLJV5C,MAAZ,EAAoB,SKIF,CAAc6C,KAAd,EAAqBC,IAArB,CAAlB;AACD,ADJE,AJDmB,ACAlB,ACAA,IHDiB1D,KECZa,ACAAA,ODAL,ACAA;AHAF,AECC,ACAA,iBHDWZ,OAAZ,EAAqB;AAAA,ACCnB,IGAiBwC,KHAZ7B,MAAL,GAAcA,MAAd;AGCF,gBAAY8B,QAAZ,EAAsB,MLAVvD,aAAa;AACvB,ACFA,ACCA,AGAoB,SJDfe,ACCAW,CFCD,KCFJ,CCCA,CFCW1B,CCFIc,OAAO,CAACC,EDEnB,EMAI,ELFM,CDEa,ECFMD,OAAO,CDExC,ACFyCC,EDEF,ICFzB,GAAoC;ADGhD,ACHkDC,AKGpD,MLHoDA,GAAG,EAAE,AKGpDuD,CLH6C,EDG1C,CMAR,CAAUV,ENAE5D,KAAJ,CAAU,CMAlB,CAAoBuE,IHFZ,ACAA,IEER,CAA6B,KAAKF,KAAL,CAAWpD,QNAhC,AMAR,CNAE;AACD,ACJ2DD,AKI7D,AJFC,ACAA,ACAE,ACAF,MJF4DA,GAAG,ACE1DU,AGAA6B,EJF4D,AEE5DrB,ACAEiB,CCAP,GAAWtB,CDAT,CDAF,ECAeA,CDADA,GDAd,AGAmB,CAAC2B,EHAE,CEAC,CDAD,ACAE1B,CDADA,CDAGjC,OGAf,CAAuByD,GDAnB,CDAD,ACAwB,CDAD,GEA1B,CDAI,ACAf,CFAc,ACAZ,CDAF,GDAsB,EAAtB;ADFkD,ACGnD,ACAC,ACAE,KHHF,MEGKpB,ACAEkB,MDAP,ACAE,CDAUrB,ECAIF,ODAhB,CAAsBG,ACAE,CAACF,EDAzB,CAA0B,UCAV,CAAuB,GAAvB,CAAd,EDAF;AHEA,ACJA,AEGA,ACAE,ACDF,SJFKb,AIEAQ,ELEA3B,AGDA0B,ACAE2B,KAAL,ACDF,CJFA,AEGA,ACAapB,CDADE,EHCZ,ACJiBpB,CDIFZ,GGDf,CAAmB,CCAjB,CHHsB,AGGD+B,CJCvB,ACJyBf,CDIF,CGDCiB,ACAtB,CAAyB,KHHX,AEGhB,GHCuBhC,ACJcW,OAAO,CDIb,ACJcI,AGG3C,EJCiC,MCJnB,GAAwC,EAAxD,CAFmB,CAGnB;ADIE,ACHH,AEEA,ACAG,WAAKmC,CJCDlD,KIDJ,CAAY6B,EJCA,KAAKhC,EIDjB,CAAsBiC,GAAtB,CAA0B,IJC1B,EAA8B,WID9B;AJEE,AIDF,ACDF,SAAKyB,EDCEN,GCDP,ELEU,AIDR,CAAWlB,ACDA,GLECjC,CKFGiD,EDCf,CAAkB,CJCV,CAAU,GIDKG,MAAvB,ICDW,CAAc,KAAKM,SAAnB,CAAb,ELEU,CAAN;AACD,AIDD,ACDF,SAAKC,EDCEnC,KCDP,CDCE,CAAYS,CCDC,IAAIV,CDCjB,CAAmB,KAAK4B,KAAxB,IFHe,IGEF,CAAgB,KAAKM,KAAL,CAAWvB,MAA3B,CAAf;ALGC,AEJD,AEGC,ACDD,MDEA,CJJA,EKEK0B,IHFE,KAAKjC,AGEZ,GAAiB,IAAIkC,CHFd,CAAcjC,WAArB,SGEiB,CAAkB,KAAK8B,SAAvB,CAAjB;ALGA,AEJD,AEIC,WJAK5D,SAAL,CAAeK,IAAf,CAAoBJ,GCNbmB,OAAO,CDMd;AAED,ACPC,AGMA,ACFA,SAAK0C,EJJA3C,OIIL,CJJA,AIIe6C,GJJC5C,KAAhB,QIIA,CAAgC,KAAKyC,OAAL,CAAaI,gBAAb,EAAhC;AJHA,WAAK5C,WAAL,GAAmB,IAAItB,sBAAJ,EAAnB;AACA,AIGA,SAAK8D,EJHAxC,KIGL,CAAa6C,KJHb,CAAiB5C,MIGjB,CHHQ,AGGkB,EJH1B,CAA2B,EIGIqC,GJHCxC,EIGN,CAAWiB,KJHrC,CIGA;AJFD,ACAC,WAAKP,QAAL,GAAgBE,QAAQ,CAACC,IFMZ1B,KAAK,IENF,CAAuB,KAAvB,CAAhB;AFOA,AENA,AGEA,SAAK6D,ELIA,AENAtC,IFMItB,CAAC,GAAG,AENb,CFMA,AENc0B,EFME1B,CAAC,GAAG,CKJpB,EHFA,CAAwB2B,CFMClC,EENzB,CAA4B,GEGbgD,GJGK,CAAexC,MAAnC,EAA2CD,CAAC,CIHf,CJG7B,CENA,CFMgD;AAC9C,AENF,AEGA,ACAD,WHHMmB,AEGA2B,CJGC/C,GAAG,CIHT,CFHA,AEGWyC,CFHCZ,EFME,EIHd,CAAiBQ,CFHjB,CFMmB3C,AENA,EEGnB,GFHwB6B,AEGAmB,IJGV,CAAezC,CAAf,CAAZ,CENF,CFMiC,GIHG,GAAG,CAAf,GAAmB,IAA3C;AJII,AENL,AEGA,eJGUP,SAAL,CAAeS,KCRXc,CDQJ,CAAsBhB,CAAtB,EAAyB,CAAzB,ECRY;ADSZ,ACRJ,UAAI,QAAOgB,MAAP,MAAkB,QAAtB,EAAgC;ADS7B,ACRD,cAAM,IAAIrB,KAAJ,CAAU,mBAAV,CAAN;ADSD,ACRA,OAFD,MAEO,IAAIqB,MAAM,CAACN,GAAP,GIGH,CJHiBM,ECAda,AEGA1B,IHHoB,CAACQ,CGGf,EHHV,ACAY,EDAkB;AACnC,ACDiB,AEInB,ACAA,WDAKmC,ACAAO,GJHG,EGGR,CAAWb,CHHC7C,EIGZ,EDAA,CHHQ,AGGSyC,ACAAZ,CJHC,GGGlB,GAAwBrB,CCAC,CAACsB,EDAE,CAACa,OAAL,GAAenC,ACAtB,CAAuB,GDAG,CAACsC,CCA3B,CAAjB,EJHQ,CAAN,OGGqC,GAAoB,CAAnC,GAAuC,IAA/D;AJKA,ACPC,AGGF,ACAC,WAAKY,CLIC,IAAI1D,IKJV,CLIM,AKJS+B,CLIC,QKJhB,CAAyBC,GAAzB,CAA6B,UAA7B,QLIM,CAAN;AACD,AETC,AGKA,WHLKL,AGKA4B,GAAL,CAAStB,IHLT,CAAcE,CGKd,CAAgB,KAAKuB,SHLrB,AGKA,CHL+B,WAA/B,EAA4C,UAAAtB,CAAC,EAAI;ADEjD,ACDEA,AGKH,QHLGA,CAAC,CAACC,CDCCvB,MAAL,GAAc,ICDZ;ADCcC,QAAAA,GAAG,EAAEM,MAAM,CAACN,GAAd;AAAmBC,ACA/B,QDA+BA,GAAG,CCA5BsB,CDA8BjB,KCAxB,CDA8B,CAACL,CCA5BoB,CAAC,CAACG,OFSX/B,AETS,GAAY,GFSf,EETmB,CAACmB,QAAL,CAAca,qBAAd,GAAsCC,IAAjE;AFUF,ACVc,OAAd,GDUI,KAAK3C,SAAL,GAAiB,CAArB,EAAwB,WKLL;ALKO,ACT1B,ACAE,AGKF,WJLKwB,AIKAqC,CHLGjB,MGKR,CAAahB,EHLI,EDAjB,CCAoB,EDAA,IAAI7B,GCAhB6C,AGKR,CAA4BwB,QHLR,CAAA9B,CAAC,CGKrB,CHLyB,AGKe,KAAKwB,CJLzB,EAApB,MIKwC,CAAeI,YAAf,CAA4BG,IAA5B,CAAiC,KAAKP,SAAtC,CAAxC;ALImC,ACRnC,ACAI,AGKL,WJLMtC,GCAGqB,OAAO,EDAf,CAAkBvB,ACAAgB,CAAC,CAACG,ODApB,ACAkB,CDAU,ECAED,GDAGxB,GCAf,GDAlB,ACAuCoB,MAAM,CAACM,qBAAP,GAA+BC,IAAlE;ADCL,ACAK,cAAIG,SAAS,GAAGV,MAAM,CAACN,WAAP,GAAqB,KAAI,CAACD,QAAL,CAAcC,WAAnD;AFQJ,UAAMnB,cAAc,GAAG,KAAKX,SAAL,CAAeY,KAAf,CAAqB,CAArB,CAAvB;AACAD,AERI,MFQJA,QERQkC,MFQM,CAAC1C,AERA,GAAG,CAAd,EAAiB,CFQrB,CAAuB,UAAAU,UAAU,EAAI;AACnCA,AERIgC,QFQJhC,IERIgC,MFQM,CAACnC,AERA,GAAG,CFQJ,AERN,CFQJ,OCTO;ADUR,ACTD,ACCK,OFML,MCPO,KAAKS,QAAZ;ADUD,ACTA;ACCK,cAAI0B,OAAO,GAAGC,SAAd,EAAyB;AACvBD,YAAAA,OAAO,GAAGC,SAAV;AACD;KDAT;AAEA,ACDQ,UAAA,KAAI,CAACjB,QAAL,CAAckB,KAAd,CAAoBJ,IAApB,GAA2BE,OAAO,GAAG,IAArC;ADGR,ACFQ,cAAMG,YAAY,GAAG,KAAI,CAACnB,QAAL,CAAcC,WAAnC;ADGR,ACFQ,cAAMpB,IAAI,GAAG;ADGrB,ACHuBmC,YAAAA,OAAO,EAAPA,OAAF;AAAWG,YAAAA,YAAY,EAAZA;AAAX,WAAb;;AACA,UAAA,KAAI,CAACpB,cAAL,CAAoBN,SAApB,CAA8BZ,IAA9B;AACD,SAbD;;AAeA,iBAASuC,OAAT,GAAmB;AACjBlB,UAAAA,QAAQ,CAACmB,mBAAT,CAA6B,SAA7B,EAAwCD,OAAxC;AACAlB,UAAAA,QAAQ,CAACmB,mBAAT,CAA6B,WAA7B,EAA0CN,SAA1C;AACD;;AACDb,QAAAA,QAAQ,CAACM,gBAAT,CAA0B,WAA1B,EAAuCO,SAAvC;AACAb,QAAAA,QAAQ,CAACM,gBAAT,CAA0B,SAA1B,EAAqCY,OAArC;AACD,OAxBD;AAyBAlB,MAAAA,QAAQ,CAACM,gBAAT,CAA0B,WAA1B,EAAuC;AAAA,eAAM,KAAN;AAAA,OAAvC;AACD","file":"adslider-native.782c2f27.js","sourceRoot":"../src","sourcesContent":["export default class EventObserver {\n  constructor() {\n    this.observers = [];\n  }\n\n  addObserver(newObserver) {\n    if (typeof newObserver !== 'function') {\n      throw new Error('Observer must be a function!');\n    }\n    this.observers.forEach(observer => {\n      if (observer === newObserver) {\n        throw new Error('Observer already in the list!');\n      }\n    });\n    this.observers.push(newObserver);\n\n  }\n\n  removeObserver(obs) {\n    for (let i = 0; i < this.observers.length; i++) {\n      if (obs === this.observers[i]) {\n        this.observers.splice(i, 1);\n        return;\n      }\n    }\n    throw new Error('No such observer in the list!');\n  }\n\n  broadcast(data) {\n    if (this.observers < 1) { return; }\n    const observersClone = this.observers.slice(0);\n    observersClone.forEach(subscriber => {\n      subscriber(data);\n    });\n  }\n}","import EventObserver from '../eventObserver/eventObserver';\n\nexport default class Model {\n  constructor(options) {\n    this.limits = (options.limits) ? options.limits : { min: 0, max: 100 };\n    this.defValue = (options.defValue) ? options.defValue : 50;\n    // this.showValueNote = (options.showValueNote) ? options.showValueNote : true;\n  }\n  setValue(value) {\n    this.defValue = value;\n    this.updateValue = new EventObserver();\n    this.updateValue.broadcast(this.defValue);\n  }\n  setLimits(values) {\n    if (typeof values !== 'object') {\n      throw new Error('It must be object');\n    } else if (values.min >= values.max) {\n      throw new Error('Min can not be more than Max');\n    }\n    this.limits = { min: values.min, max: values.max };\n    this.updateLimits = new EventObserver();\n    this.updateLimits.broadcast(this.limits);\n  }\n  getvalue() {\n    return this.defValue;\n  }\n}\n\n// const model = new Model({ defValue: 70 });\n\n// model.setValue(60);\n\n// console.log(model.limits)\n// model.setLimits({ min: 50, max: 100 });\n// console.log(model.limits)","import EventObserver from '../../eventObserver/eventObserver';\n\nexport default class HandlerView {\n  constructor(parent) {\n    this.parent = parent;\n    this._render();\n    this.eventMousemove = new EventObserver();\n  }\n  _getHandlerWidth() {\n    return this.$handler.offsetWidth;\n  }\n  _render() {\n    this.$handler = document.createElement('div');\n    this.$handler.classList.add('adslider__handler');\n    this.parent.append(this.$handler);\n  }\n  _setPosition($track) {\n    this.$handler.addEventListener('mousedown', e => {\n      e.preventDefault();\n      const shiftX = e.clientX - this.$handler.getBoundingClientRect().left;\n      const mouseMove = e => {\n        let newLeft = e.clientX - shiftX - $track.getBoundingClientRect().left;\n        let rightEdge = $track.offsetWidth - this.$handler.offsetWidth;\n        if (newLeft < 0) {\n          newLeft = 0;\n        }\n        if (newLeft > rightEdge) {\n          newLeft = rightEdge;\n        }\n        this.$handler.style.left = newLeft + 'px';\n        const handlerWidth = this.$handler.offsetWidth;\n        const data = { newLeft, handlerWidth };\n        this.eventMousemove.broadcast(data);\n      };\n\n      function mouseUp() {\n        document.removeEventListener('mouseup', mouseUp);\n        document.removeEventListener('mousemove', mouseMove);\n      }\n      document.addEventListener('mousemove', mouseMove);\n      document.addEventListener('mouseup', mouseUp);\n    });\n    document.addEventListener('dragstart', () => false);\n  }\n}","export default class TrackView {\n  constructor(parent) {\n    this.parent = parent;\n    this._render();\n  }\n  _render() {\n    this.$track = document.createElement('div');\n    this.$track.classList.add('adslider__track');\n    this.parent.append(this.$track);\n  }\n}","export default class ValueNoteView {\n  constructor(parent) {\n    this.parent = parent;\n    this._render();\n  }\n  _render() {\n      this.$note = document.createElement('div');\n      this.$value = document.createElement('p');\n      this.$note.classList.add('adslider__note');\n      this.$value.classList.add('adslider__value');\n      this.$note.append(this.$value);\n      this.parent.append(this.$note);\n    }\n    // setValue(value) {\n    //   this.$value.textContent = value;\n    // }\n  _alignRelHandler(handlerWidth) {\n    this.$note.style.left = handlerWidth / 2 + 'px';\n  }\n  _setPosition(data) {\n    this.$note.style.left = data.newLeft + data.handlerWidth / 2 + 'px';\n  }\n}","import HandlerView from './handlerView/handlerView';\nimport TrackView from './trackView/trackView';\nimport valueNoteView from './valueNoteView/valueNoteView';\n\nexport default class View {\n  constructor(selector) {\n    this.$el = document.querySelector(selector);\n    this._render();\n\n    this.track = new TrackView(this.$adslider);\n    this.handler = new HandlerView(this.track.$track);\n    this.valueNote = new valueNoteView(this.$adslider);\n\n    this.valueNote._alignRelHandler(this.handler._getHandlerWidth());\n    this.handler._setPosition(this.track.$track);\n    this._addEventMousemove();\n\n  }\n\n  _render() {\n    this.$adslider = document.createElement('div');\n    this.$adslider.classList.add('adslider');\n    this.$el.append(this.$adslider);\n  }\n  _addEventMousemove() {\n    this.handler.eventMousemove.addObserver(this.valueNote._setPosition.bind(this.valueNote));\n  }\n\n}","export default class Presenter {\n  constructor(model, view) {\n    this.model = model;\n    this.view = view;\n  }\n\n  _render() {\n    this.view.valueNote.setValue(this.model.defValue);\n  }\n\n}","import Model from './model/model';\nimport View from './view/view';\nimport Presenter from './presenter/presenter';\n\nexport default function createAdslider(selector, userOptions) {\n  const view = new View(selector);\n  const model = new Model(userOptions);\n  const presenter = new Presenter(model, view);\n}","import createAdslider from './createAdslider';\n\nwindow.adslider = createAdslider;"]}