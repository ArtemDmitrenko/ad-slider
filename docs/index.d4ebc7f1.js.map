{"mappings":"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","sources":["node_modules/@babel/runtime/helpers/interopRequireDefault.js","node_modules/@babel/runtime/helpers/typeof.js","src/presenter/presenter.ts","node_modules/@babel/runtime/helpers/classCallCheck.js","node_modules/@babel/runtime/helpers/createClass.js","node_modules/@babel/runtime/helpers/defineProperty.js","src/model/model.ts","node_modules/@babel/runtime/helpers/assertThisInitialized.js","node_modules/@babel/runtime/helpers/inherits.js","node_modules/@babel/runtime/helpers/setPrototypeOf.js","node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/getPrototypeOf.js","src/eventObserver/eventObserver.ts","src/view/view.ts","src/view/handlerView/handlerView.ts","src/view/trackView/trackView.ts","src/view/valueNoteView/valueNoteView.ts","src/view/barView/barView.ts","src/view/scaleView/scaleView.ts","src/jq.adslider.ts"],"sourcesContent":["function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import { IConfig, Model } from '../model/model';\nimport View from '../view/view';\n\nclass Presenter {\n  private model: Model;\n\n  private view: View;\n\n  constructor(container: HTMLElement, options: IConfig) {\n    this.model = new Model(options);\n    this.view = new View(container);\n    this.updateView();\n    this.addObservers();\n  }\n\n  public updateView(): void {\n    this.view.updateView(this.model.options);\n  }\n\n  private addObservers(): void {\n    this.view.addObserver('changePos', this.handleCalcValue);\n    this.model.addObserver('calcPos', this.handleCalcPos);\n    this.model.addObserver('setPos', this.handleSetPos);\n  }\n\n  private handleCalcValue = (data: {\n    relPosition: number,\n    isFrom: boolean\n  }) => {\n    this.model.setValueFromHandlerPos(data);\n  }\n\n  private handleCalcPos = (options: {\n    value: number,\n    limits: { min: number; max: number },\n    isFrom: boolean\n  }) => {\n    this.view.calcPos(options);\n  }\n\n  private handleSetPos = (options: {\n    isDouble: boolean,\n    isFrom: boolean\n  }) => {\n    this.view.setPos(options);\n  }\n}\n\nexport default Presenter;\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import EventObserver from '../eventObserver/eventObserver';\n\ninterface IConfig {\n  limits: {\n    min: number;\n    max: number;\n  };\n  curValue: number;\n  showValueNote: boolean;\n  step: number;\n  vertical: boolean;\n  double: boolean;\n  from: number;\n  to: number;\n}\n\nclass Model extends EventObserver {\n  public options: IConfig;\n\n  constructor(options: IConfig) {\n    super();\n    this.options = {\n      limits: options.limits,\n      curValue: options.to || options.curValue,\n      showValueNote: options.showValueNote,\n      step: options.step,\n      vertical: options.vertical,\n      double: options.double,\n      from: options.from,\n      to: options.to,\n    };\n    this.init(this.options);\n  }\n\n  public init(options: IConfig): void {\n    this.setLimits(options.limits);\n    this.setStep(options.step);\n    this.setValueTo(options.to);\n    this.setValueFrom(options.from);\n    this.setCurValue(options.curValue);\n    this.setDouble(options.double, options.from);\n  }\n\n  public setValueFromHandlerPos(data: {\n    relPosition: number,\n    isFrom: boolean\n  }): void {\n    console.log(data);\n    const value = this.calcValueFromHandlerPos(data.relPosition);\n    const conditionForReturn = this.options.double && this.isValToMovesOverValFrom(value);\n    if (data.isFrom && this.isValFromMovesOverValTo(value)) return;\n    if (!data.isFrom && conditionForReturn) return;\n    this.setValAndBroadcast(value, data.isFrom);\n  }\n\n  private calcValueFromHandlerPos(relPos: number): number {\n    const odds: number = this.options.limits.max - this.options.limits.min;\n    return Math.round(this.options.limits.min + odds * relPos);\n  }\n\n  private setDouble(double: boolean, from: number): void {\n    if (double && !from) {\n      if (from !== 0) {\n        this.options.from = this.options.limits.min;\n      }\n    }\n    this.options.double = double;\n  }\n\n  private setLimits(limits: { min: number; max: number }): void {\n    if (limits.min >= limits.max) {\n      throw new Error('Min can not be the same or more than Max');\n    }\n    this.options.limits = { min: limits.min, max: limits.max };\n  }\n\n  private setCurValue(value: number): void {\n    if (value < this.options.limits.min || value > this.options.limits.max) {\n      throw new Error('Value must be in range of min and max limits');\n    }\n    if (this.options.step) {\n      const newVal: number = this.setRoundedCurVal(\n        value,\n        this.options.step,\n        this.options.limits.max,\n        this.options.limits.min,\n      );\n      this.options.curValue = this.options.to || newVal;\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  private setRoundedCurVal(\n    value: number,\n    step: number,\n    max: number,\n    min: number,\n  ): number {\n    const odd: number = Math.abs((min - value) % step);\n\n    if (odd === 0) {\n      return value;\n    }\n    const numberOfSteps: number = Math.round((min - value) / step);\n    let newCurValue: number = step * Math.abs(numberOfSteps) + min;\n\n    if (newCurValue > max) {\n      newCurValue -= step;\n    }\n    return newCurValue;\n  }\n\n  private setValueTo(value: number): void {\n    if (value < this.options.limits.min || value > this.options.limits.max) {\n      throw new Error('Value must be in range of min and max limits');\n    }\n    if (this.options.step && value) {\n      const newVal: number = this.setRoundedCurVal(\n        value,\n        this.options.step,\n        this.options.limits.max,\n        this.options.limits.min,\n      );\n      this.options.to = newVal;\n    }\n  }\n\n  private setValueFrom(value: number): void {\n    if (value < this.options.limits.min || value > this.options.limits.max) {\n      throw new Error('Value must be in range of min and max limits');\n    }\n    if (value > this.options.to && this.options.to) {\n      throw new Error('Value From must be less than To');\n    }\n    if (this.options.step && value) {\n      const newVal = this.setRoundedCurVal(\n        value,\n        this.options.step,\n        this.options.limits.max,\n        this.options.limits.min,\n      );\n      this.options.from = newVal;\n    }\n  }\n\n  private setStep(value: number): void {\n    if (value > this.options.limits.max - this.options.limits.min) {\n      throw new Error('Step can not be more than odd min and max limits');\n    }\n    this.options.step = value || 1;\n  }\n\n  private setValAndBroadcast(\n    value: number,\n    isFrom: boolean,\n  ): void {\n    if (isFrom) {\n      this.options.from = this.calcValueWithStep(value);\n      const options = {\n        value: this.options.from, limits: this.options.limits, isFrom,\n      };\n      this.broadcast('calcPos', options);\n      const data = { isDouble: this.options.double, isFrom };\n      this.broadcast('setPos', data);\n    } else {\n      this.options.curValue = this.calcValueWithStep(value);\n      const options = {\n        value: this.options.curValue, limits: this.options.limits, isFrom,\n      };\n      this.broadcast('calcPos', options);\n      const data = { isDouble: this.options.double, isFrom };\n      this.broadcast('setPos', data);\n    }\n  }\n\n  private isValFromMovesOverValTo(value: number): boolean {\n    return value > this.options.curValue;\n  }\n\n  private isValToMovesOverValFrom(value: number): boolean {\n    return value < this.options.from;\n  }\n\n  private calcValueWithStep(value: number): number {\n    const AllNumberOfSteps: number = Math.floor(\n      Math.abs(this.options.limits.max - this.options.limits.min) / this.options.step,\n    );\n    const maxStepValue: number = this.options.limits.min + AllNumberOfSteps * this.options.step;\n    const numberOfSteps: number = Math.round(\n      (value - this.options.limits.min) / this.options.step,\n    );\n    let newValue: number = this.options.limits.min + this.options.step * numberOfSteps;\n    if (newValue < this.options.limits.min) {\n      newValue += this.options.step;\n    }\n    if (newValue > this.options.limits.max) {\n      newValue -= this.options.step;\n    }\n    if (value > maxStepValue) {\n      if (value > maxStepValue + (this.options.limits.max - maxStepValue) / 2) {\n        newValue = this.options.limits.max;\n      } else {\n        newValue = maxStepValue;\n      }\n    }\n    return newValue;\n  }\n}\n\nexport { Model, IConfig };\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","class EventObserver {\n  public observers: { [event: string]: Function[] };\n\n  constructor() {\n    this.observers = {};\n  }\n\n  public addObserver(event: string, newObserver: Function): void {\n    if (this.observers[event]) {\n      if (this.observers[event].includes(newObserver)) {\n        throw new Error('Observer is already in the list!');\n      }\n      this.observers[event].push(newObserver);\n    } else {\n      this.observers[event] = [];\n      this.observers[event].push(newObserver);\n    }\n  }\n\n  public broadcast(event: string, data?: unknown): void {\n    if (this.observers[event] === undefined) {\n      throw new Error('There is no such observer in the list!');\n    }\n    const observersClone = this.observers[event].slice(0);\n    observersClone.forEach((subscriber) => {\n      subscriber(data);\n    });\n  }\n}\n\nexport default EventObserver;\n","import HandlerView from './handlerView/handlerView';\nimport TrackView from './trackView/trackView';\nimport ValueNoteView from './valueNoteView/valueNoteView';\nimport BarView from './barView/barView';\nimport ScaleView from './scaleView/scaleView';\nimport EventObserver from '../eventObserver/eventObserver';\n\nclass View extends EventObserver {\n  private $el!: HTMLElement | null;\n\n  private handlerView!: HandlerView;\n\n  private handlerViewFrom?: HandlerView;\n\n  private valueNoteViewFrom?: ValueNoteView;\n\n  private valueNoteViewCommon?: ValueNoteView;\n\n  private trackView!: TrackView;\n\n  private valueNoteView!: ValueNoteView;\n\n  private barView!: BarView;\n\n  private scaleView!: ScaleView;\n\n  private $adslider!: HTMLElement;\n\n  private handlerShift!: number;\n\n  constructor(container: HTMLElement) {\n    super();\n    this.render(container);\n    this.addObservers();\n  }\n\n  public updateView(options: {\n    vertical: boolean;\n    curValue: number;\n    limits: { max: number; min: number };\n    showValueNote: boolean;\n    double: boolean;\n    from: number;\n    to: number;\n    step: number;\n  }): void {\n    this.setVerticalViewForSingle(options.vertical);\n    this.handlerView.calcPos({\n      edge: this.getEdge(this.handlerView),\n      value: options.curValue,\n      limits: options.limits,\n    });\n    this.handlerView.setPos(options.double);\n    this.valueNoteView.setValue(options.curValue);\n    this.valueNoteView.showValueNote(options.showValueNote);\n    this.scaleView.drawScale(options, this.handlerView.$handler);\n    if (options.double) {\n      this.updateViewForDouble(\n        options.vertical,\n        options.from,\n        options.to,\n        options.limits,\n        options.showValueNote,\n      );\n    } else if (this.handlerViewFrom) {\n      this.deleteHandlerFrom();\n    }\n  }\n\n  public calcPos(options: {\n    value: number,\n    limits: { min: number; max: number },\n    isFrom: boolean,\n  }): void {\n    if (this.handlerViewFrom && this.valueNoteViewFrom) {\n      const data = {\n        edge: this.getEdge(this.handlerViewFrom),\n        value: options.value,\n        limits: options.limits,\n      };\n      if (options.isFrom) {\n        this.handlerViewFrom.calcPos(data);\n        this.valueNoteViewFrom.setValue(options.value);\n      } else {\n        this.handlerView.calcPos(data);\n        this.valueNoteView.setValue(options.value);\n      }\n    } else {\n      const data = {\n        edge: this.getEdge(this.handlerView),\n        value: options.value,\n        limits: options.limits,\n      };\n      this.handlerView.calcPos(data);\n      this.valueNoteView.setValue(options.value);\n    }\n  }\n\n  public setPos(options: {\n    isDouble: boolean,\n    isFrom: boolean\n  }): void {\n    if (this.handlerViewFrom) {\n      if (options.isFrom) {\n        this.handlerViewFrom.setPos(options.isDouble);\n      } else {\n        this.handlerView.setPos(options.isDouble);\n      }\n      this.setViewOfOneNote();\n    } else {\n      this.handlerView.setPos(options.isDouble);\n    }\n  }\n\n  private render(container: HTMLElement): void {\n    this.$el = container;\n    this.$adslider = document.createElement('div');\n    this.$adslider.classList.add('adslider');\n    this.$el.append(this.$adslider);\n\n    this.trackView = new TrackView(this.$adslider);\n    this.barView = new BarView(this.$adslider);\n    this.scaleView = new ScaleView(this.$adslider);\n    this.handlerView = new HandlerView(this.trackView.$track);\n    this.valueNoteView = new ValueNoteView(this.$adslider);\n\n    this.handlerViewFrom = new HandlerView(this.trackView.$track);\n    this.handlerViewFrom.$handler.classList.add('adslider__handler_type_from');\n    this.valueNoteViewFrom = new ValueNoteView(this.$adslider);\n    this.valueNoteViewFrom.$note.classList.add('adslider__note_type_from');\n    this.valueNoteView.$note.classList.add('adslider__note_type_to');\n  }\n\n  private deleteHandlerFrom(): void {\n    if (this.handlerViewFrom && this.valueNoteViewFrom) {\n      this.handlerViewFrom.$handler.remove();\n      this.valueNoteViewFrom.$note.remove();\n      delete this.handlerViewFrom;\n      delete this.valueNoteViewFrom;\n    }\n  }\n\n  private updateViewForDouble(\n    vertical: boolean,\n    from: number,\n    to: number,\n    limits: { max: number; min: number },\n    showValueNote: boolean,\n  ): void {\n    if (!this.handlerViewFrom) {\n      this.renderHandlerFrom();\n    }\n    this.updateObservers();\n    this.setVerticalViewForDouble(vertical);\n    if (this.handlerViewFrom && this.valueNoteViewFrom) {\n      this.handlerViewFrom.calcPos({\n        edge: this.getEdge(this.handlerViewFrom),\n        value: from,\n        limits,\n      });\n      this.handlerViewFrom.setPos(true);\n      this.valueNoteViewFrom.calcPos(this.handlerViewFrom.$handler);\n      this.valueNoteViewFrom.setPos();\n      this.valueNoteViewFrom.setValue(from);\n      this.valueNoteViewFrom.showValueNote(showValueNote);\n      this.barView.setLengthForDouble({\n        valueFrom: this.handlerViewFrom.getPos(),\n        valueTo: this.handlerView.getPos(),\n        handler: this.handlerView.$handler,\n      });\n    }\n    this.setViewOfOneNote();\n  }\n\n  private renderHandlerFrom(): void {\n    this.handlerViewFrom = new HandlerView(this.trackView.$track);\n    this.handlerViewFrom.$handler.classList.add('adslider__handler_type_from');\n    this.valueNoteViewFrom = new ValueNoteView(this.$adslider);\n    this.valueNoteViewFrom.$note.classList.add('adslider__note_type_from');\n    this.handlerViewFrom.addObserver('handlerMousedownEvent', this.handleMouseDown);\n    this.handlerViewFrom.addObserver('handlerMousemoveEvent', this.mouseMove);\n  }\n\n  private handleChangePos = (e: MouseEvent): void => {\n    if (this.isDouble()) {\n      if (\n        this.handlerView.$handler.classList.contains(\n          'adslider__handler_direction_horizontal',\n        )\n      ) {\n        this.changeHandlerPosForDoubleHorizontal(e);\n      } else {\n        this.changeHandlerPosForDoubleVertical(e);\n      }\n    } else {\n      const data = {\n        shift: this.handlerView.getLength() / 2,\n        e,\n        handler: this.handlerView,\n      };\n      this.mouseMove(data);\n    }\n  }\n\n  private changeHandlerPosForDoubleVertical(e: MouseEvent): void {\n    if (this.handlerViewFrom) {\n      const handlerFromPos = this.handlerViewFrom.$handler.getBoundingClientRect().top;\n      const handlerToPos = this.handlerView.$handler.getBoundingClientRect().top;\n      const oddToFrom: number = handlerToPos - handlerFromPos;\n      const middlePos = oddToFrom / 2 + handlerFromPos + this.handlerView.getLength() / 2;\n      if (e.clientY >= middlePos) {\n        const data = {\n          shift: this.handlerViewFrom.getLength() / 2,\n          e,\n          handler: this.handlerViewFrom,\n        };\n        this.mouseMove(data);\n      } else {\n        const data = {\n          shift: this.handlerView.getLength() / 2,\n          e,\n          handler: this.handlerView,\n        };\n        this.mouseMove(data);\n      }\n    }\n  }\n\n  private changeHandlerPosForDoubleHorizontal(e: MouseEvent): void {\n    if (this.handlerViewFrom) {\n      const handlerFromPos = this.handlerViewFrom.$handler.getBoundingClientRect().left;\n      const handlerToPos = this.handlerView.$handler.getBoundingClientRect().left;\n      const oddToFrom: number = handlerToPos - handlerFromPos;\n      const middlePos = oddToFrom / 2 + handlerFromPos + this.handlerView.getLength() / 2;\n      if (e.clientX <= middlePos) {\n        const data = {\n          shift: this.handlerViewFrom.getLength() / 2,\n          e,\n          handler: this.handlerViewFrom,\n        };\n        this.mouseMove(data);\n      } else {\n        const data = {\n          shift: this.handlerView.getLength() / 2,\n          e,\n          handler: this.handlerView,\n        };\n        this.mouseMove(data);\n      }\n    }\n  }\n\n  private setVerticalViewForSingle(vertical: boolean): void {\n    if (vertical) {\n      this.$adslider.classList.remove('adslider_direction_horizontal');\n      this.$adslider.classList.add('adslider_direction_vertical');\n    } else {\n      this.$adslider.classList.remove('adslider_direction_vertical');\n      this.$adslider.classList.add('adslider_direction_horizontal');\n    }\n    this.trackView.setVerticalView(vertical);\n    this.handlerView.setVerticalView(vertical);\n    this.valueNoteView.setVerticalView(vertical);\n    this.barView.setVerticalView(vertical);\n  }\n\n  private setVerticalViewForDouble(vertical: boolean): void {\n    if (this.handlerViewFrom && this.valueNoteViewFrom) {\n      this.handlerViewFrom.setVerticalView(vertical);\n      this.valueNoteViewFrom.setVerticalView(vertical);\n    }\n  }\n\n  private handleMouseDown = (data: { event: MouseEvent; handler: HTMLElement }): void => {\n    this.calcShift(data.event, data.handler);\n  }\n\n  private mouseMove = (data: {\n    shift: number,\n    e: MouseEvent,\n    handler: HandlerView\n  }): void => {\n    let newPos;\n    if (data.e.type === 'mousedown') {\n      newPos = this.calcNewPos(data.shift, data.e);\n    } else {\n      newPos = this.calcNewPos(this.handlerShift, data.e);\n    }\n    const edge: number = this.getEdge(data.handler);\n    newPos = this.checkNewPos(newPos);\n    const isFrom = data.handler.$handler.classList.contains('adslider__handler_type_from');\n    const relPosition = newPos / edge;\n    const options = {\n      relPosition, isFrom,\n    };\n    this.broadcast('changePos', options);\n  }\n\n  private getEdge(handler: HandlerView): number {\n    return this.trackView.getLength() - handler.getLength();\n  }\n\n  private checkNewPos(newPos: number): number {\n    const edge = this.getEdge(this.handlerView);\n    let newPosCopy = newPos;\n    if (newPos < 0) {\n      newPosCopy = 0;\n    } else if (newPos > edge) {\n      newPosCopy = edge;\n    }\n    return newPosCopy;\n  }\n\n  private calcShift(e: MouseEvent, handler: HTMLElement): void {\n    const shift = this.isVertical()\n      ? e.clientY - handler.getBoundingClientRect().bottom\n      : e.clientX - handler.getBoundingClientRect().left;\n    this.handlerShift = Math.abs(shift);\n  }\n\n  private isVertical(): boolean {\n    return this.$adslider.classList.contains('adslider_direction_vertical');\n  }\n\n  private isDouble(): boolean {\n    return (!!this.handlerViewFrom);\n  }\n\n  private calcNewPos(shift: number, e: MouseEvent): number {\n    return this.isVertical()\n      ? this.trackView.$track.getBoundingClientRect().bottom - e.clientY - shift\n      : e.clientX - shift - this.trackView.$track.getBoundingClientRect().left;\n  }\n\n  private setViewOfOneNote(): void {\n    if (this.isSmallDistanceBetweenNotes()) {\n      this.makeCommonNoteView();\n    } else if (this.valueNoteViewCommon) {\n      this.removeValueNotesFromAndTo();\n    }\n  }\n\n  private isSmallDistanceBetweenNotes(): boolean {\n    if (this.valueNoteViewFrom) {\n      const distAmongNotes: number = this.valueNoteView.getPos() - this.valueNoteViewFrom.getPos();\n      return distAmongNotes < this.valueNoteView.getSize();\n    }\n    return false;\n  }\n\n  private makeCommonNoteView(): void {\n    if (this.valueNoteViewFrom) {\n      this.valueNoteViewFrom.showValueNote(false);\n    }\n    this.valueNoteView.showValueNote(false);\n    if (this.valueNoteViewCommon) {\n      this.updateCommonNoteView();\n    } else {\n      this.valueNoteViewCommon = new ValueNoteView(this.$adslider);\n      this.valueNoteViewCommon.$note.classList.add('adslider__note_common');\n      this.valueNoteViewCommon.setVerticalView(this.isVertical());\n      this.updateCommonNoteView();\n    }\n  }\n\n  private updateCommonNoteView(): void {\n    if (this.handlerViewFrom && this.valueNoteViewCommon) {\n      const valueTo = this.valueNoteView.getValue();\n      let valueFrom: number;\n      if (this.valueNoteViewFrom) {\n        valueFrom = this.valueNoteViewFrom.getValue();\n        this.valueNoteViewCommon.setValueForTwo(valueFrom, valueTo);\n      }\n      const leftEdgeOfHandlerFrom = this.handlerViewFrom.getPos();\n      const rightEdgeOfHandlerTo = this.handlerView.getPos() + this.handlerView.getLength();\n      const distAmongEdgesOfHandlers = rightEdgeOfHandlerTo - leftEdgeOfHandlerFrom;\n      this.valueNoteViewCommon.valueNotePos = leftEdgeOfHandlerFrom + distAmongEdgesOfHandlers / 2;\n      this.valueNoteViewCommon.setPos();\n    }\n  }\n\n  private removeValueNotesFromAndTo(): void {\n    if (this.valueNoteViewFrom && this.valueNoteViewCommon) {\n      this.valueNoteView.showValueNote(true);\n      this.valueNoteViewFrom.showValueNote(true);\n      this.valueNoteViewCommon.$note.remove();\n      delete this.valueNoteViewCommon;\n    }\n  }\n\n  private handleSetBar = (data: {\n    $handler: HTMLElement,\n    vertical: boolean,\n    double: boolean\n  }): void => {\n    if (!data.double) {\n      this.barView.setLength(data.$handler);\n    } else if (this.handlerViewFrom) {\n      const options = {\n        valueFrom: this.handlerViewFrom.getPos(),\n        valueTo: this.handlerView.getPos(),\n        handler: data.$handler,\n      };\n      this.barView.setLengthForDouble(options);\n    }\n  }\n\n  private addObservers(): void {\n    this.handlerView.addObserver('handlerMousedownEvent', this.handleMouseDown);\n    this.handlerView.addObserver('handlerMousemoveEvent', this.mouseMove);\n    if (this.handlerViewFrom) {\n      this.handlerViewFrom.addObserver('handlerMousedownEvent', this.handleMouseDown);\n      this.handlerViewFrom.addObserver('handlerMousemoveEvent', this.mouseMove);\n    }\n    this.trackView.addObserver('handlerMousedownEvent', this.handleChangePos);\n    this.barView.addObserver('handlerMousedownEvent', this.handleChangePos);\n    this.scaleView.addObserver('handlerMousedownEvent', this.handleChangePos);\n    this.handlerView.addObserver('calcValueNotePos', this.handleCalcValueNotePos);\n    this.handlerView.addObserver('setValueNotePos', this.handleSetValueNotePos);\n    this.handlerView.addObserver('setBar', this.handleSetBar);\n  }\n\n  private updateObservers(): void {\n    if (this.handlerViewFrom && this.valueNoteViewFrom) {\n      if (!Object.prototype.hasOwnProperty.call(this.handlerViewFrom.observers, 'calcValueNotePos')) {\n        this.handlerViewFrom.addObserver('calcValueNotePos', this.handleCalcValueNoteFromPos);\n        this.handlerViewFrom.addObserver('setValueNotePos', this.handleSetValueNoteFromPos);\n        this.handlerViewFrom.addObserver('setBar', this.handleSetBar);\n      }\n    }\n  }\n\n  private handleSetValueNoteFromPos = () => {\n    if (this.valueNoteViewFrom) this.valueNoteViewFrom.setPos();\n  }\n\n  private handleCalcValueNoteFromPos = (handler: HTMLElement) => {\n    if (this.valueNoteViewFrom) this.valueNoteViewFrom.calcPos(handler);\n  }\n\n  private handleSetValueNotePos = () => {\n    this.valueNoteView.setPos();\n  }\n\n  private handleCalcValueNotePos = (handler: HTMLElement) => {\n    this.valueNoteView.calcPos(handler);\n  }\n}\n\nexport default View;\n","import EventObserver from '../../eventObserver/eventObserver';\n\nclass HandlerView extends EventObserver {\n  public $handler!: HTMLElement;\n\n  private $parent!: HTMLElement;\n\n  private handlerPos!: number;\n\n  private handleMouseMove!: (e: MouseEvent) => void;\n\n  private handleMouseUp!: (e: MouseEvent) => void;\n\n  constructor($parent: HTMLElement) {\n    super();\n    this.render($parent);\n  }\n\n  public getLength(): number {\n    return this.isVertical()\n      ? parseInt(getComputedStyle(this.$handler).height, 10)\n      : parseInt(getComputedStyle(this.$handler).width, 10);\n  }\n\n  public getPos(): number {\n    return this.isVertical()\n      ? parseInt(getComputedStyle(this.$handler).bottom, 10)\n      : parseInt(getComputedStyle(this.$handler).left, 10);\n  }\n\n  public calcPos(options: {\n    edge: number,\n    value: number,\n    limits: { min: number; max: number },\n  }): void {\n    const oddValMin: number = options.value - options.limits.min;\n    const oddMaxMin: number = options.limits.max - options.limits.min;\n    this.handlerPos = options.edge * (oddValMin / oddMaxMin);\n  }\n\n  public setPos(isDouble: boolean): void {\n    if (this.isVertical()) {\n      this.$handler.style.left = '';\n      this.$handler.style.bottom = `${this.handlerPos}px`;\n    } else {\n      this.$handler.style.bottom = '';\n      this.$handler.style.left = `${this.handlerPos}px`;\n    }\n    this.broadcast('calcValueNotePos', this.$handler);\n    this.broadcast('setValueNotePos');\n    const data = { $handler: this.$handler, vertical: this.isVertical(), double: isDouble };\n    this.broadcast('setBar', data);\n  }\n\n  public setVerticalView(verticalView: boolean): void {\n    if (verticalView) {\n      this.$handler.classList.remove('adslider__handler_direction_horizontal');\n      this.$handler.classList.add('adslider__handler_direction_vertical');\n    } else {\n      this.$handler.classList.remove('adslider__handler_direction_vertical');\n      this.$handler.classList.add('adslider__handler_direction_horizontal');\n    }\n  }\n\n  private isVertical(): boolean {\n    return this.$handler.classList.contains('adslider__handler_direction_vertical');\n  }\n\n  private render($parent: HTMLElement): void {\n    this.$parent = $parent;\n    this.$handler = document.createElement('div');\n    this.$handler.classList.add('adslider__handler');\n    this.$parent.append(this.$handler);\n    this.$handler.addEventListener('mousedown', this.handleHandlerMouseDown);\n  }\n\n  private handleHandlerMouseDown = (event: MouseEvent): void => {\n    event.preventDefault();\n    event.stopPropagation();\n    const data = { event, handler: this.$handler };\n    this.broadcast('handlerMousedownEvent', data);\n    this.bindMousemove(event);\n  }\n\n  private bindMousemove(event: MouseEvent): void {\n    this.handleMouseMove = this.mouseMove.bind(this);\n    this.handleMouseUp = this.mouseUp.bind(this);\n    if (event.type === 'mousedown') {\n      document.addEventListener('mousemove', this.handleMouseMove);\n      document.addEventListener('mouseup', this.handleMouseUp);\n    }\n  }\n\n  private mouseMove(e: MouseEvent): void {\n    const data = { shift: null, e, handler: this };\n    this.broadcast('handlerMousemoveEvent', data);\n  }\n\n  private mouseUp(): void {\n    document.removeEventListener('mouseup', this.handleMouseUp);\n    document.removeEventListener('mousemove', this.handleMouseMove);\n  }\n}\n\nexport default HandlerView;\n","import EventObserver from '../../eventObserver/eventObserver';\n\nclass TrackView extends EventObserver {\n  public $track!: HTMLElement;\n\n  constructor($parent: HTMLElement) {\n    super();\n    this.render($parent);\n    this.addListeners();\n  }\n\n  public getLength(): number {\n    return this.$track.classList.contains('adslider__track_direction_vertical') ? parseInt(getComputedStyle(this.$track).height, 10) : parseInt(getComputedStyle(this.$track).width, 10);\n  }\n\n  public setVerticalView(verticalView: boolean): void {\n    if (verticalView) {\n      this.$track.classList.remove('adslider__track_direction_horizontal');\n      this.$track.classList.add('adslider__track_direction_vertical');\n    } else {\n      this.$track.classList.remove('adslider__track_direction_vertical');\n      this.$track.classList.add('adslider__track_direction_horizontal');\n    }\n  }\n\n  private render($parent: HTMLElement): void {\n    this.$track = document.createElement('div');\n    this.$track.classList.add('adslider__track');\n    $parent.append(this.$track);\n  }\n\n  private addListeners(): void {\n    this.$track.addEventListener('mousedown', this.handleTrackMouseDown);\n  }\n\n  private handleTrackMouseDown = (event: MouseEvent): void => {\n    this.broadcast('handlerMousedownEvent', event);\n  }\n}\n\nexport default TrackView;\n","import EventObserver from '../../eventObserver/eventObserver';\n\nclass ValueNoteView extends EventObserver {\n  public $note!: HTMLElement;\n\n  public valueNotePos!: number;\n\n  private $value!: HTMLElement;\n\n  constructor(parent: HTMLElement) {\n    super();\n    this.render(parent);\n  }\n\n  public setValue(value: number): void {\n    this.$value.textContent = String(value);\n  }\n\n  public getValue(): number {\n    return Number(this.$value.textContent);\n  }\n\n  public setValueForTwo(valueFrom: number, valueTo: number): void {\n    const valFrom = String(valueFrom);\n    const valTo = String(valueTo);\n    this.$value.textContent = `${valFrom} - ${valTo}`;\n  }\n\n  public showValueNote(data: boolean): void {\n    if (data) {\n      this.$note.classList.remove('adslider__note_hide');\n      this.$note.classList.add('adslider__note_show');\n    } else {\n      this.$note.classList.remove('adslider__note_show');\n      this.$note.classList.add('adslider__note_hide');\n    }\n  }\n\n  public calcPos(handler: HTMLElement): void {\n    if (this.isVertical()) {\n      const handlerBottomPos: string = getComputedStyle(handler).bottom;\n      const handlerHeight: string = getComputedStyle(handler).height;\n      this.valueNotePos = parseInt(handlerBottomPos, 10) + parseInt(handlerHeight, 10) / 2;\n    } else {\n      const handlerLeftPos: string = getComputedStyle(handler).left;\n      const handlerWidth: string = getComputedStyle(handler).width;\n      this.valueNotePos = parseInt(handlerLeftPos, 10) + parseInt(handlerWidth, 10) / 2;\n    }\n  }\n\n  public setPos(): void {\n    if (this.$note.classList.contains('adslider__note_direction_vertical')) {\n      this.$note.style.left = '';\n      this.$note.style.bottom = `${this.valueNotePos}px`;\n    } else {\n      this.$note.style.bottom = '';\n      this.$note.style.left = `${this.valueNotePos}px`;\n    }\n  }\n\n  public setVerticalView(verticalView: boolean): void {\n    if (verticalView) {\n      this.$note.classList.remove('adslider__note_direction_horizontal');\n      this.$note.classList.add('adslider__note_direction_vertical');\n    } else {\n      this.$note.classList.remove('adslider__note_direction_vertical');\n      this.$note.classList.add('adslider__note_direction_horizontal');\n    }\n  }\n\n  public getSize(): number {\n    return this.$note.classList.contains('adslider__note_direction_vertical') ? parseInt(getComputedStyle(this.$note).height, 10) : parseInt(getComputedStyle(this.$note).width, 10);\n  }\n\n  public getPos(): number {\n    return this.$note.classList.contains('adslider__note_direction_vertical') ? parseInt(getComputedStyle(this.$note).bottom, 10) : parseInt(getComputedStyle(this.$note).left, 10);\n  }\n\n  private render(parent: HTMLElement): void {\n    this.$note = document.createElement('div');\n    this.$value = document.createElement('p');\n    this.$note.classList.add('adslider__note');\n    this.$value.classList.add('adslider__value');\n    this.$note.append(this.$value);\n    parent.append(this.$note);\n  }\n\n  private isVertical(): boolean {\n    return this.$note.classList.contains('adslider__note_direction_vertical');\n  }\n}\n\nexport default ValueNoteView;\n","import EventObserver from '../../eventObserver/eventObserver';\n\nclass BarView extends EventObserver {\n  private $bar!: HTMLElement;\n\n  private barPos!: number;\n\n  constructor($parent: HTMLElement) {\n    super();\n    this.render($parent);\n    this.addListeners();\n  }\n\n  public setVerticalView(verticalView: boolean): void {\n    if (verticalView) {\n      this.$bar.classList.remove('adslider__bar_direction_horizontal');\n      this.$bar.classList.add('adslider__bar_direction_vertical');\n    } else {\n      this.$bar.classList.remove('adslider__bar_direction_vertical');\n      this.$bar.classList.add('adslider__bar_direction_horizontal');\n    }\n  }\n\n  public setLength($handler: HTMLElement): void {\n    let handlerPos: number;\n    let handlerLength: number;\n    this.$bar.style.bottom = '';\n    this.$bar.style.left = '';\n    if (this.$bar.classList.contains('adslider__bar_direction_horizontal')) {\n      this.$bar.style.height = '';\n      handlerPos = parseInt(getComputedStyle($handler).left, 10);\n      handlerLength = parseInt(getComputedStyle($handler).width, 10);\n      this.calcBarPosForSingle(handlerPos, handlerLength);\n      this.$bar.style.width = `${this.barPos}px`;\n    } else {\n      this.$bar.style.width = '';\n      handlerPos = parseInt(getComputedStyle($handler).bottom, 10);\n      handlerLength = parseInt(getComputedStyle($handler).height, 10);\n      this.calcBarPosForSingle(handlerPos, handlerLength);\n      this.$bar.style.height = `${this.barPos}px`;\n    }\n  }\n\n  public setLengthForDouble(options: {\n    valueFrom: number;\n    valueTo: number;\n    handler: HTMLElement;\n  }): void {\n    const handlerLength: number = parseInt(\n      getComputedStyle(options.handler).width,\n      10,\n    );\n    const barRightEdge: number = options.valueTo + handlerLength / 2;\n    const barLeftEdge: number = options.valueFrom + handlerLength / 2;\n    const barLength: number = Math.abs(barRightEdge - barLeftEdge);\n    if (this.$bar.classList.contains('adslider__bar_direction_horizontal')) {\n      this.$bar.style.height = '';\n      this.$bar.style.bottom = '';\n      this.$bar.style.width = `${barLength}px`;\n      this.calcBarPosForDouble(options.valueFrom, options.valueTo, handlerLength);\n      this.$bar.style.left = `${this.barPos}px`;\n    } else {\n      this.$bar.style.width = '';\n      this.$bar.style.left = '';\n      this.$bar.style.height = `${barLength}px`;\n      this.calcBarPosForDouble(options.valueFrom, options.valueTo, handlerLength);\n      this.$bar.style.bottom = `${this.barPos}px`;\n    }\n  }\n\n  private render($parent: HTMLElement): void {\n    this.$bar = document.createElement('div');\n    this.$bar.classList.add('adslider__bar');\n    $parent.append(this.$bar);\n  }\n\n  private addListeners(): void {\n    this.$bar.addEventListener('mousedown', this.handleBarMouseDown);\n  }\n\n  private handleBarMouseDown = (event: MouseEvent): void => {\n    this.broadcast('handlerMousedownEvent', event);\n  }\n\n  private calcBarPosForSingle(handlerPos: number, handlerLength: number): void {\n    this.barPos = handlerPos + handlerLength / 2;\n  }\n\n  private calcBarPosForDouble(\n    handlerPosFrom: number,\n    handlerPosTo: number,\n    handlerLength: number,\n  ): void {\n    this.barPos = handlerPosFrom < handlerPosTo\n      ? handlerPosFrom + handlerLength / 2\n      : handlerPosTo + handlerLength / 2;\n  }\n}\n\nexport default BarView;\n","import { IConfig } from '../../model/model';\nimport EventObserver from '../../eventObserver/eventObserver';\n\nclass ScaleView extends EventObserver {\n  private $parent!: HTMLElement;\n\n  private $scale!: HTMLElement;\n\n  private numberOfLines!: number;\n\n  constructor($parent: HTMLElement) {\n    super();\n    this.render($parent);\n    this.addListeners();\n  }\n\n  public drawScale(options: IConfig, $handler: HTMLElement): void {\n    if (options.vertical) {\n      this.$scale.classList.remove('adslider__scale_direction_horizontal');\n      this.$scale.classList.add('adslider__scale_direction_vertical');\n    } else {\n      this.$scale.classList.remove('adslider__scale_direction_vertical');\n      this.$scale.classList.add('adslider__scale_direction_horizontal');\n    }\n    const { step } = options;\n    const odd: number = options.limits.max - options.limits.min;\n    this.calcNumberOfLines(step, odd);\n    this.setScalePos($handler);\n    this.renderScaleLine();\n    this.createListOfScaleLines(options);\n    this.renderScaleSign(options);\n  }\n\n  private render($parent: HTMLElement): void {\n    this.$parent = $parent;\n    this.$scale = document.createElement('div');\n    this.$scale.classList.add('adslider__scale');\n    this.$parent.append(this.$scale);\n  }\n\n  private renderScaleLine(): HTMLElement {\n    const line: HTMLElement = document.createElement('div');\n    line.classList.add('adslider__scale-line');\n    if (this.isVertical()) {\n      line.classList.add('adslider__scale-line_direction_vertical');\n    } else {\n      line.classList.add('adslider__scale-line_direction_horizontal');\n    }\n    return line;\n  }\n\n  private addListeners(): void {\n    this.$scale.addEventListener('mousedown', this.handleScaleMouseDown);\n  }\n\n  private handleScaleMouseDown = (event: MouseEvent): void => {\n    this.broadcast('handlerMousedownEvent', event);\n  }\n\n  private calcNumberOfLines(step: number, odd: number): void {\n    this.numberOfLines = odd % step === 0 ? odd / step + 1 : Math.floor(odd / step + 2);\n  }\n\n  private setScalePos($handler: HTMLElement): void {\n    let handlerLength: number;\n    let trackLength: number;\n    let scaleLength: number;\n    if (this.isVertical()) {\n      this.$scale.style.width = '';\n      this.$scale.style.left = '';\n      handlerLength = parseInt(getComputedStyle($handler).height, 10);\n      trackLength = parseInt(getComputedStyle(this.$parent).height, 10);\n      scaleLength = trackLength - handlerLength;\n      this.$scale.style.height = `${scaleLength}px`;\n      this.$scale.style.top = `${handlerLength / 2}px`;\n    } else {\n      this.$scale.style.height = '';\n      this.$scale.style.top = '';\n      handlerLength = parseInt(getComputedStyle($handler).width, 10);\n      trackLength = parseInt(getComputedStyle(this.$parent).width, 10);\n      scaleLength = trackLength - handlerLength;\n      this.$scale.style.width = `${scaleLength}px`;\n      this.$scale.style.left = `${handlerLength / 2}px`;\n    }\n  }\n\n  private createListOfScaleLines(options: IConfig): void {\n    this.$scale.innerHTML = '';\n    const stepPercentage = (options.step / (options.limits.max - options.limits.min)) * 100;\n    for (let i = 0; i < this.numberOfLines; i += 1) {\n      const line = this.renderScaleLine();\n      this.$scale.append(line);\n      const position = i * stepPercentage > 100 ? 100 : i * stepPercentage;\n      if (this.isVertical()) {\n        line.style.bottom = `${position}%`;\n      } else {\n        line.style.left = `${position}%`;\n      }\n    }\n  }\n\n  private renderScaleSign(options: IConfig): void {\n    const listOfLines = this.$scale.querySelectorAll('.adslider__scale-line');\n    listOfLines.forEach((el, index) => {\n      const value: number = this.calcSigns(index, options);\n      const $text = document.createElement('div');\n      $text.classList.add('adslider__scale-text');\n      if (this.isVertical()) {\n        $text.classList.add('adslider__scale-text_direction_vertical');\n      } else {\n        $text.classList.add('adslider__scale-text_direction_horizontal');\n      }\n      $text.innerText = `${value}`;\n      el.append($text);\n    });\n  }\n\n  private calcSigns(index: number, options: IConfig): number {\n    let value: number;\n    if (index === 0) {\n      value = options.limits.min;\n    } else if (index === this.numberOfLines - 1) {\n      value = options.limits.max;\n    } else {\n      value = index * options.step + options.limits.min;\n    }\n    return Math.round(value);\n  }\n\n  private isVertical(): boolean {\n    return this.$scale.classList.contains('adslider__scale_direction_vertical');\n  }\n}\n\nexport default ScaleView;\n","import './main.scss';\nimport { IConfig } from './model/model';\nimport Presenter from './presenter/presenter';\n\n(function ($) {\n  const methods = {\n    init(container: HTMLElement, options: IConfig): void {\n      if ($(this).data('inited')) {\n        $.error('Plugin has already been initialized on this selector!');\n      } else {\n        const presenter = new Presenter(container, options);\n        $(this).data({\n          presenter, inited: true,\n        });\n      }\n    },\n    update(options: IConfig): void {\n      const { model } = $(this).data('presenter');\n      const presenter = $(this).data('presenter');\n      model.options = options;\n      model.init(model.options);\n      presenter.updateView();\n    },\n    updateCurValue(curValue: number): void {\n      const { model } = $(this).data('presenter');\n      const presenter = $(this).data('presenter');\n      model.options.curValue = curValue;\n      model.init(model.options);\n      presenter.updateView();\n    },\n    getOptions(): IConfig {\n      return $(this).data('presenter').model.options;\n    },\n  };\n\n  type methods = {\n    init(container: HTMLElement, options: IConfig): void,\n    update(options: IConfig): void,\n    updateCurValue(curValue: number): void,\n    getOptions(): IConfig,\n  };\n\n  $.fn.adslider = function (methodOrOptions: keyof methods) {\n    if (methods[methodOrOptions]) {\n      return methods[methodOrOptions].apply(this, Array.prototype.slice.call(arguments, 1));\n    }\n    if (typeof methodOrOptions === 'object' || !methodOrOptions) {\n      return methods.init.call(this, this[0], methodOrOptions);\n    }\n    $.error(`Method ${methodOrOptions} does not exist on jQuery.tooltip`);\n  };\n}(jQuery));\n"],"names":["module","exports","obj","__esModule","$4ddd20911bdffde1$var$_typeof","Symbol","iterator","obj1","constructor","prototype","$6b539378d18dbf38$var$_view","$jvJOj","parcelRequire","Presenter","container","options","_this","this","$6b539378d18dbf38$var$_classCallCheck2","$6b539378d18dbf38$var$_defineProperty2","data","model","setValueFromHandlerPos","view","calcPos","setPos","Model","View","updateView","addObservers","value","addObserver","handleCalcValue","handleCalcPos","handleSetPos","instance","Constructor","TypeError","$50f1b79c30c64723$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","$99f5c46c41d41028$var$_classCallCheck2","_super","call","$99f5c46c41d41028$var$_defineProperty2","$99f5c46c41d41028$var$_assertThisInitialized2","limits","curValue","to","showValueNote","step","vertical","from","init","setLimits","setStep","setValueTo","setValueFrom","setCurValue","setDouble","console","log","calcValueFromHandlerPos","relPosition","conditionForReturn","isValToMovesOverValFrom","isFrom","isValFromMovesOverValTo","setValAndBroadcast","relPos","odds","max","min","Math","round","double","Error","newVal","setRoundedCurVal","abs","numberOfSteps","newCurValue","calcValueWithStep","broadcast","isDouble","AllNumberOfSteps","floor","maxStepValue","newValue","EventObserver","self","ReferenceError","subClass","superClass","create","$aPOvv","$7e35d879846c1d0e$var$_setPrototypeOf","o","p","setPrototypeOf","o1","p1","__proto__","default","$28817a45901dd14a$require$_typeof","$6G58z","$d89b74bdee76cdd9$var$_getPrototypeOf","getPrototypeOf","$e437091f332d7290$var$_classCallCheck2","$e437091f332d7290$var$_defineProperty2","observers","event","newObserver","includes","push","undefined","slice","forEach","subscriber","$10c53de5d319e5ed$var$_handlerView","$10c53de5d319e5ed$var$_trackView","$10c53de5d319e5ed$var$_valueNoteView","$10c53de5d319e5ed$var$_barView","$10c53de5d319e5ed$var$_scaleView","$10c53de5d319e5ed$var$_classCallCheck2","$10c53de5d319e5ed$var$_defineProperty2","$10c53de5d319e5ed$var$_assertThisInitialized2","e","handlerView","$handler","classList","contains","changeHandlerPosForDoubleHorizontal","changeHandlerPosForDoubleVertical","shift","getLength","handler","mouseMove","calcShift","newPos","type","calcNewPos","handlerShift","edge","getEdge","checkNewPos","handlerViewFrom","valueFrom","getPos","valueTo","barView","setLengthForDouble","setLength","valueNoteViewFrom","valueNoteView","render","setVerticalViewForSingle","setValue","scaleView","drawScale","updateViewForDouble","deleteHandlerFrom","setViewOfOneNote","$el","$adslider","document","createElement","add","append","trackView","TrackView","BarView","ScaleView","HandlerView","$track","ValueNoteView","$note","remove","renderHandlerFrom","updateObservers","setVerticalViewForDouble","handleMouseDown","handlerFromPos","getBoundingClientRect","top","middlePos","clientY","left","clientX","setVerticalView","newPosCopy","isVertical","bottom","isSmallDistanceBetweenNotes","makeCommonNoteView","valueNoteViewCommon","removeValueNotesFromAndTo","getSize","updateCommonNoteView","getValue","setValueForTwo","leftEdgeOfHandlerFrom","distAmongEdgesOfHandlers","valueNotePos","handleChangePos","handleCalcValueNotePos","handleSetValueNotePos","handleSetBar","hasOwnProperty","handleCalcValueNoteFromPos","handleSetValueNoteFromPos","$parent","$2691cd67366904f6$var$_classCallCheck2","$2691cd67366904f6$var$_defineProperty2","$2691cd67366904f6$var$_assertThisInitialized2","preventDefault","stopPropagation","bindMousemove","parseInt","getComputedStyle","height","width","oddValMin","oddMaxMin","handlerPos","style","concat","verticalView","addEventListener","handleHandlerMouseDown","handleMouseMove","bind","handleMouseUp","mouseUp","removeEventListener","$852e38dab0ef4bfc$var$_classCallCheck2","$852e38dab0ef4bfc$var$_defineProperty2","$852e38dab0ef4bfc$var$_assertThisInitialized2","addListeners","handleTrackMouseDown","parent","$a24596fabf59e640$var$_classCallCheck2","$a24596fabf59e640$var$_defineProperty2","$a24596fabf59e640$var$_assertThisInitialized2","$value","textContent","String","Number","valFrom","valTo","handlerBottomPos","handlerHeight","handlerLeftPos","handlerWidth","$777febe22fb67884$var$_classCallCheck2","$777febe22fb67884$var$_defineProperty2","$777febe22fb67884$var$_assertThisInitialized2","$bar","handlerLength","calcBarPosForSingle","barPos","barRightEdge","barLeftEdge","barLength","calcBarPosForDouble","handleBarMouseDown","handlerPosFrom","handlerPosTo","$1e9559f310d419a2$var$_classCallCheck2","$1e9559f310d419a2$var$_defineProperty2","$1e9559f310d419a2$var$_assertThisInitialized2","$scale","odd","calcNumberOfLines","setScalePos","renderScaleLine","createListOfScaleLines","renderScaleSign","line","handleScaleMouseDown","numberOfLines","scaleLength","innerHTML","stepPercentage","position","_this2","querySelectorAll","el","index","calcSigns","$text","innerText","$","methods","$0574195d21ba86f9$var$_presenter","jQuery","error","presenter","inited","update","updateCurValue","getOptions","fn","adslider","methodOrOptions","apply","Array","arguments","$0574195d21ba86f9$var$_typeof2"],"version":3,"file":"index.d4ebc7f1.js.map"}