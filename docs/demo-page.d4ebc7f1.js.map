{"mappings":"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","sources":["node_modules/@babel/runtime/helpers/interopRequireDefault.js","node_modules/@babel/runtime/helpers/typeof.js","src/presenter/Presenter.ts","node_modules/@babel/runtime/helpers/classCallCheck.js","node_modules/@babel/runtime/helpers/createClass.js","node_modules/@babel/runtime/helpers/defineProperty.js","src/model/Model.ts","node_modules/@babel/runtime/helpers/assertThisInitialized.js","node_modules/@babel/runtime/helpers/inherits.js","node_modules/@babel/runtime/helpers/setPrototypeOf.js","node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/getPrototypeOf.js","src/eventObserver/EventObserver.ts","src/view/View.ts","src/view/handlerView/HandlerView.ts","src/view/trackView/TrackView.ts","src/view/valueNoteView/ValueNoteView.ts","src/view/barView/BarView.ts","src/view/scaleView/ScaleView.ts","src/jq.adslider.ts"],"sourcesContent":["function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import { IConfig, Model } from '../model/Model';\r\nimport View from '../view/View';\r\n\r\nclass Presenter {\r\n  private model: Model;\r\n\r\n  private view: View;\r\n\r\n  constructor(container: HTMLElement, options: IConfig) {\r\n    this.model = new Model(options);\r\n    this.view = new View(container);\r\n    this.updateView();\r\n    this.addObservers();\r\n  }\r\n\r\n  public updateView(): void {\r\n    this.view.updateView(this.model.options);\r\n  }\r\n\r\n  private addObservers(): void {\r\n    this.view.addObserver('changePos', this.handleCalcValue);\r\n    this.model.addObserver('calcPos', this.handleCalcPos);\r\n    this.model.addObserver('setPos', this.handleSetPos);\r\n  }\r\n\r\n  private handleCalcValue = (data: {\r\n    relPosition: number,\r\n    isFrom: boolean\r\n  }) => {\r\n    this.model.setValueFromHandlerPos(data);\r\n  }\r\n\r\n  private handleCalcPos = (options: {\r\n    value: number,\r\n    limits: { min: number; max: number },\r\n    isFrom: boolean\r\n  }) => {\r\n    this.view.calcPos(options);\r\n  }\r\n\r\n  private handleSetPos = (options: {\r\n    isDouble: boolean,\r\n    isFrom: boolean\r\n  }) => {\r\n    this.view.setPos(options);\r\n  }\r\n}\r\n\r\nexport default Presenter;\r\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import EventObserver from '../eventObserver/EventObserver';\n\ninterface IConfig {\n  limits: {\n    min: number;\n    max: number;\n  };\n  curValue: number;\n  showValueNote: boolean;\n  step: number;\n  vertical: boolean;\n  double: boolean;\n  from: number;\n  to: number;\n}\n\nclass Model extends EventObserver {\n  public options: IConfig;\n\n  constructor(options: IConfig) {\n    super();\n    this.options = {\n      limits: options.limits,\n      curValue: options.to || options.curValue,\n      showValueNote: options.showValueNote,\n      step: options.step,\n      vertical: options.vertical,\n      double: options.double,\n      from: options.from,\n      to: options.to,\n    };\n    this.init(this.options);\n  }\n\n  public init(options: IConfig): void {\n    const {\n      limits, step, from, to, curValue, double,\n    } = options;\n    this.setLimits(limits);\n    this.setStep(step);\n    this.setValueTo(to);\n    this.setValueFrom(from);\n    this.setCurValue(curValue);\n    this.setDouble(double, from);\n  }\n\n  public setValueFromHandlerPos(data: {\n    relPosition: number;\n    isFrom: boolean;\n  }): void {\n    const value = this.calcValueFromHandlerPos(data.relPosition);\n    const conditionForReturn = this.options.double && this.isValToMovesOverValFrom(value);\n    if (data.isFrom && this.isValFromMovesOverValTo(value)) {\n      return;\n    }\n    if (!data.isFrom && conditionForReturn) {\n      return;\n    }\n    this.setValAndBroadcast(value, data.isFrom);\n  }\n\n  private calcValueFromHandlerPos(relPos: number): number {\n    const { limits: { min, max } } = this.options;\n    const odds: number = max - min;\n    return Math.round(min + odds * relPos);\n  }\n\n  private setDouble(double: boolean, from: number): void {\n    const { limits: { min } } = this.options;\n    if (double && !from) {\n      this.options.from = min;\n    }\n    this.options.double = double;\n  }\n\n  private setLimits(limits: { min: number; max: number }): void {\n    const { min, max } = limits;\n    if (min >= max) {\n      throw new Error('Min can not be the same or more than Max');\n    }\n    this.options.limits = { min, max };\n  }\n\n  private setCurValue(value: number): void {\n    const { limits: { min, max }, step, to } = this.options;\n    if (value < min || value > max) {\n      throw new Error('Value must be in range of min and max limits');\n    }\n    if (step) {\n      const newVal: number = this.setRoundedCurVal(\n        value,\n        step,\n        max,\n        min,\n      );\n      this.options.curValue = to || newVal;\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  private setRoundedCurVal(\n    value: number,\n    step: number,\n    max: number,\n    min: number,\n  ): number {\n    const odd: number = Math.abs((min - value) % step);\n    if (odd === 0) {\n      return value;\n    }\n    const numberOfSteps: number = Math.round((min - value) / step);\n    let newCurValue: number = step * Math.abs(numberOfSteps) + min;\n    if (newCurValue > max) {\n      newCurValue -= step;\n    }\n    return newCurValue;\n  }\n\n  private setValueTo(value: number): void {\n    const { limits: { min, max }, step } = this.options;\n    if (value < min || value > max) {\n      throw new Error('Value must be in range of min and max limits');\n    }\n    if (step && value) {\n      const newVal: number = this.setRoundedCurVal(\n        value,\n        step,\n        max,\n        min,\n      );\n      this.options.to = newVal;\n    }\n  }\n\n  private setValueFrom(value: number): void {\n    const { limits: { min, max }, step, to } = this.options;\n    if (value < min || value > max) {\n      throw new Error('Value must be in range of min and max limits');\n    }\n    if (value > to && to) {\n      throw new Error('Value From must be less than To');\n    }\n    if (step && value) {\n      const newVal = this.setRoundedCurVal(\n        value,\n        step,\n        max,\n        min,\n      );\n      this.options.from = newVal;\n    }\n  }\n\n  private setStep(value: number): void {\n    const { limits: { min, max } } = this.options;\n    if (value > max - min) {\n      throw new Error('Step can not be more than odd min and max limits');\n    }\n    this.options.step = value || 1;\n  }\n\n  private setValAndBroadcast(value: number, isFrom: boolean): void {\n    const { limits, double } = this.options;\n    if (isFrom) {\n      this.options.from = this.calcValueWithStep(value);\n      const options = {\n        value: this.options.from,\n        limits,\n        isFrom,\n      };\n      this.broadcast('calcPos', options);\n      const data = { isDouble: double, isFrom };\n      this.broadcast('setPos', data);\n    } else {\n      this.options.curValue = this.calcValueWithStep(value);\n      const options = {\n        value: this.options.curValue,\n        limits,\n        isFrom,\n      };\n      this.broadcast('calcPos', options);\n      const data = { isDouble: double, isFrom };\n      this.broadcast('setPos', data);\n    }\n  }\n\n  private isValFromMovesOverValTo(value: number): boolean {\n    const { curValue } = this.options;\n    return value > curValue;\n  }\n\n  private isValToMovesOverValFrom(value: number): boolean {\n    const { from } = this.options;\n    return value < from;\n  }\n\n  private calcValueWithStep(value: number): number {\n    const { limits: { min, max }, step } = this.options;\n    const allNumberOfSteps: number = Math.floor(Math.abs(max - min) / step);\n    const maxStepValue: number = min + allNumberOfSteps * step;\n    const numberOfSteps: number = Math.round((value - min) / step);\n    let newValue: number = min + step * numberOfSteps;\n    if (newValue < min) {\n      newValue += step;\n    }\n    if (newValue > max) {\n      newValue -= step;\n    }\n    if (value > maxStepValue) {\n      if (value > maxStepValue + (max - maxStepValue) / 2) {\n        newValue = max;\n      } else {\n        newValue = maxStepValue;\n      }\n    }\n    return newValue;\n  }\n}\n\nexport { Model, IConfig };\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","class EventObserver {\r\n  public observers: { [event: string]: Function[] };\r\n\r\n  constructor() {\r\n    this.observers = {};\r\n  }\r\n\r\n  public addObserver(event: string, newObserver: Function): void {\r\n    if (this.observers[event]) {\r\n      if (this.observers[event].includes(newObserver)) {\r\n        throw new Error('Observer is already in the list!');\r\n      }\r\n      this.observers[event].push(newObserver);\r\n    } else {\r\n      this.observers[event] = [];\r\n      this.observers[event].push(newObserver);\r\n    }\r\n  }\r\n\r\n  public broadcast(event: string, data?: unknown): void {\r\n    if (this.observers[event] === undefined) {\r\n      throw new Error('There is no such observer in the list!');\r\n    }\r\n    const observersClone = this.observers[event].slice(0);\r\n    observersClone.forEach((subscriber) => {\r\n      subscriber(data);\r\n    });\r\n  }\r\n}\r\n\r\nexport default EventObserver;\r\n","import HandlerView from './handlerView/HandlerView';\nimport TrackView from './trackView/TrackView';\nimport ValueNoteView from './valueNoteView/ValueNoteView';\nimport BarView from './barView/BarView';\nimport ScaleView from './scaleView/ScaleView';\nimport EventObserver from '../eventObserver/EventObserver';\n\nclass View extends EventObserver {\n  private el!: HTMLElement | null;\n\n  private handlerView!: HandlerView;\n\n  private handlerViewFrom?: HandlerView;\n\n  private valueNoteViewFrom?: ValueNoteView;\n\n  private valueNoteViewCommon?: ValueNoteView;\n\n  private trackView!: TrackView;\n\n  private valueNoteView!: ValueNoteView;\n\n  private barView!: BarView;\n\n  private scaleView!: ScaleView;\n\n  private adslider!: HTMLElement;\n\n  private handlerShift!: number;\n\n  constructor(container: HTMLElement) {\n    super();\n    this.render(container);\n    this.addObservers();\n  }\n\n  public updateView(options: {\n    vertical: boolean;\n    curValue: number;\n    limits: { max: number; min: number };\n    showValueNote: boolean;\n    double: boolean;\n    from: number;\n    to: number;\n    step: number;\n  }): void {\n    const {\n      vertical, curValue, limits, showValueNote, double, from,\n    } = options;\n    this.setVerticalViewForSingle(vertical);\n    this.handlerView.calcPos({\n      edge: this.getEdge(this.handlerView),\n      value: curValue,\n      limits,\n    });\n    this.handlerView.setPos(double);\n    this.valueNoteView.setValue(curValue);\n    this.valueNoteView.showValueNote(showValueNote);\n    this.scaleView.drawScale(options, this.handlerView.handler);\n    if (double) {\n      this.updateViewForDouble(\n        vertical,\n        from,\n        limits,\n        showValueNote,\n      );\n    } else if (this.handlerViewFrom) {\n      this.deleteHandlerFrom();\n    }\n  }\n\n  public calcPos(options: {\n    value: number,\n    limits: { min: number; max: number },\n    isFrom: boolean,\n  }): void {\n    const { value, limits, isFrom } = options;\n    if (this.handlerViewFrom && this.valueNoteViewFrom) {\n      const data = {\n        edge: this.getEdge(this.handlerViewFrom),\n        value,\n        limits,\n      };\n      if (isFrom) {\n        this.handlerViewFrom.calcPos(data);\n        this.valueNoteViewFrom.setValue(value);\n      } else {\n        this.handlerView.calcPos(data);\n        this.valueNoteView.setValue(value);\n      }\n    } else {\n      const data = {\n        edge: this.getEdge(this.handlerView),\n        value,\n        limits,\n      };\n      this.handlerView.calcPos(data);\n      this.valueNoteView.setValue(value);\n    }\n  }\n\n  public setPos(options: {\n    isDouble: boolean,\n    isFrom: boolean\n  }): void {\n    const { isDouble, isFrom } = options;\n    if (this.handlerViewFrom) {\n      if (isFrom) {\n        this.handlerViewFrom.setPos(isDouble);\n      } else {\n        this.handlerView.setPos(isDouble);\n      }\n      this.setViewOfOneNote();\n    } else {\n      this.handlerView.setPos(isDouble);\n    }\n  }\n\n  private render(container: HTMLElement): void {\n    this.el = container;\n    this.adslider = document.createElement('div');\n    this.adslider.classList.add('adslider');\n    this.el.append(this.adslider);\n\n    this.trackView = new TrackView(this.adslider);\n    this.barView = new BarView(this.adslider);\n    this.scaleView = new ScaleView(this.adslider);\n    this.handlerView = new HandlerView(this.trackView.track);\n    this.valueNoteView = new ValueNoteView(this.adslider);\n\n    this.handlerViewFrom = new HandlerView(this.trackView.track);\n    this.handlerViewFrom.handler.classList.add('adslider__handler_type_from');\n    this.valueNoteViewFrom = new ValueNoteView(this.adslider);\n    this.valueNoteViewFrom.note.classList.add('adslider__note_type_from');\n    this.valueNoteView.note.classList.add('adslider__note_type_to');\n  }\n\n  private deleteHandlerFrom(): void {\n    if (this.handlerViewFrom && this.valueNoteViewFrom) {\n      this.handlerViewFrom.handler.remove();\n      this.valueNoteViewFrom.note.remove();\n      delete this.handlerViewFrom;\n      delete this.valueNoteViewFrom;\n    }\n  }\n\n  private updateViewForDouble(\n    vertical: boolean,\n    from: number,\n    limits: { max: number; min: number },\n    showValueNote: boolean,\n  ): void {\n    if (!this.handlerViewFrom) {\n      this.renderHandlerFrom();\n    }\n    this.updateObservers();\n    this.setVerticalViewForDouble(vertical);\n    if (this.handlerViewFrom && this.valueNoteViewFrom) {\n      this.handlerViewFrom.calcPos({\n        edge: this.getEdge(this.handlerViewFrom),\n        value: from,\n        limits,\n      });\n      this.handlerViewFrom.setPos(true);\n      this.valueNoteViewFrom.calcPos(this.handlerViewFrom.handler);\n      this.valueNoteViewFrom.setPos();\n      this.valueNoteViewFrom.setValue(from);\n      this.valueNoteViewFrom.showValueNote(showValueNote);\n      this.barView.setLengthForDouble({\n        valueFrom: this.handlerViewFrom.getPos(),\n        valueTo: this.handlerView.getPos(),\n        handler: this.handlerView.handler,\n      });\n    }\n    this.setViewOfOneNote();\n  }\n\n  private renderHandlerFrom(): void {\n    this.handlerViewFrom = new HandlerView(this.trackView.track);\n    this.handlerViewFrom.handler.classList.add('adslider__handler_type_from');\n    this.valueNoteViewFrom = new ValueNoteView(this.adslider);\n    this.valueNoteViewFrom.note.classList.add('adslider__note_type_from');\n    this.handlerViewFrom.addObserver('handlerMousedownEvent', this.handleMouseDown);\n    this.handlerViewFrom.addObserver('handlerMousemoveEvent', this.mouseMove);\n  }\n\n  private handleChangePos = (e: MouseEvent): void => {\n    if (this.isDouble()) {\n      if (\n        this.handlerView.handler.classList.contains(\n          'adslider__handler_direction_horizontal',\n        )\n      ) {\n        this.changeHandlerPosForDoubleHorizontal(e);\n      } else {\n        this.changeHandlerPosForDoubleVertical(e);\n      }\n    } else {\n      const data = {\n        shift: this.handlerView.getLength() / 2,\n        e,\n        handler: this.handlerView,\n      };\n      this.mouseMove(data);\n    }\n  }\n\n  private changeHandlerPosForDoubleVertical(e: MouseEvent): void {\n    if (this.handlerViewFrom) {\n      const handlerFromPos = this.handlerViewFrom.handler.getBoundingClientRect().top;\n      const handlerToPos = this.handlerView.handler.getBoundingClientRect().top;\n      const oddToFrom: number = handlerToPos - handlerFromPos;\n      const middlePos = oddToFrom / 2 + handlerFromPos + this.handlerView.getLength() / 2;\n      if (e.clientY >= middlePos) {\n        const data = {\n          shift: this.handlerViewFrom.getLength() / 2,\n          e,\n          handler: this.handlerViewFrom,\n        };\n        this.mouseMove(data);\n      } else {\n        const data = {\n          shift: this.handlerView.getLength() / 2,\n          e,\n          handler: this.handlerView,\n        };\n        this.mouseMove(data);\n      }\n    }\n  }\n\n  private changeHandlerPosForDoubleHorizontal(e: MouseEvent): void {\n    if (this.handlerViewFrom) {\n      const handlerFromPos = this.handlerViewFrom.handler.getBoundingClientRect().left;\n      const handlerToPos = this.handlerView.handler.getBoundingClientRect().left;\n      const oddToFrom: number = handlerToPos - handlerFromPos;\n      const middlePos = oddToFrom / 2 + handlerFromPos + this.handlerView.getLength() / 2;\n      if (e.clientX <= middlePos) {\n        const data = {\n          shift: this.handlerViewFrom.getLength() / 2,\n          e,\n          handler: this.handlerViewFrom,\n        };\n        this.mouseMove(data);\n      } else {\n        const data = {\n          shift: this.handlerView.getLength() / 2,\n          e,\n          handler: this.handlerView,\n        };\n        this.mouseMove(data);\n      }\n    }\n  }\n\n  private setVerticalViewForSingle(vertical: boolean): void {\n    if (vertical) {\n      this.adslider.classList.remove('adslider_direction_horizontal');\n      this.adslider.classList.add('adslider_direction_vertical');\n    } else {\n      this.adslider.classList.remove('adslider_direction_vertical');\n      this.adslider.classList.add('adslider_direction_horizontal');\n    }\n    this.trackView.setVerticalView(vertical);\n    this.handlerView.setVerticalView(vertical);\n    this.valueNoteView.setVerticalView(vertical);\n    this.barView.setVerticalView(vertical);\n  }\n\n  private setVerticalViewForDouble(vertical: boolean): void {\n    if (this.handlerViewFrom && this.valueNoteViewFrom) {\n      this.handlerViewFrom.setVerticalView(vertical);\n      this.valueNoteViewFrom.setVerticalView(vertical);\n    }\n  }\n\n  private handleMouseDown = (data: { event: MouseEvent; handler: HTMLElement }): void => {\n    this.calcShift(data.event, data.handler);\n  }\n\n  private mouseMove = (data: {\n    shift: number,\n    e: MouseEvent,\n    handler: HandlerView\n  }): void => {\n    let newPos;\n    if (data.e.type === 'mousedown') {\n      newPos = this.calcNewPos(data.shift, data.e);\n    } else {\n      newPos = this.calcNewPos(this.handlerShift, data.e);\n    }\n    const edge: number = this.getEdge(data.handler);\n    newPos = this.checkNewPos(newPos);\n    const isFrom = data.handler.handler.classList.contains('adslider__handler_type_from');\n    const relPosition = newPos / edge;\n    const options = {\n      relPosition, isFrom,\n    };\n    this.broadcast('changePos', options);\n  }\n\n  private getEdge(handler: HandlerView): number {\n    return this.trackView.getLength() - handler.getLength();\n  }\n\n  private checkNewPos(newPos: number): number {\n    const edge = this.getEdge(this.handlerView);\n    let newPosCopy = newPos;\n    if (newPos < 0) {\n      newPosCopy = 0;\n    } else if (newPos > edge) {\n      newPosCopy = edge;\n    }\n    return newPosCopy;\n  }\n\n  private calcShift(e: MouseEvent, handler: HTMLElement): void {\n    const shift = this.isVertical()\n      ? e.clientY - handler.getBoundingClientRect().bottom\n      : e.clientX - handler.getBoundingClientRect().left;\n    this.handlerShift = Math.abs(shift);\n  }\n\n  private isVertical(): boolean {\n    return this.adslider.classList.contains('adslider_direction_vertical');\n  }\n\n  private isDouble(): boolean {\n    return (!!this.handlerViewFrom);\n  }\n\n  private calcNewPos(shift: number, e: MouseEvent): number {\n    return this.isVertical()\n      ? this.trackView.track.getBoundingClientRect().bottom - e.clientY - shift\n      : e.clientX - shift - this.trackView.track.getBoundingClientRect().left;\n  }\n\n  private setViewOfOneNote(): void {\n    if (this.isSmallDistanceBetweenNotes()) {\n      this.makeCommonNoteView();\n    } else if (this.valueNoteViewCommon) {\n      this.removeValueNotesFromAndTo();\n    }\n  }\n\n  private isSmallDistanceBetweenNotes(): boolean {\n    if (this.valueNoteViewFrom) {\n      const distAmongNotes: number = this.valueNoteView.getPos() - this.valueNoteViewFrom.getPos();\n      return distAmongNotes < this.valueNoteView.getSize();\n    }\n    return false;\n  }\n\n  private makeCommonNoteView(): void {\n    if (this.valueNoteViewFrom) {\n      this.valueNoteViewFrom.showValueNote(false);\n    }\n    this.valueNoteView.showValueNote(false);\n    if (this.valueNoteViewCommon) {\n      this.updateCommonNoteView();\n    } else {\n      this.valueNoteViewCommon = new ValueNoteView(this.adslider);\n      this.valueNoteViewCommon.note.classList.add('adslider__note_common');\n      this.valueNoteViewCommon.setVerticalView(this.isVertical());\n      this.updateCommonNoteView();\n    }\n  }\n\n  private updateCommonNoteView(): void {\n    if (this.handlerViewFrom && this.valueNoteViewCommon) {\n      const valueTo = this.valueNoteView.getValue();\n      let valueFrom: number;\n      if (this.valueNoteViewFrom) {\n        valueFrom = this.valueNoteViewFrom.getValue();\n        this.valueNoteViewCommon.setValueForTwo(valueFrom, valueTo);\n      }\n      const leftEdgeOfHandlerFrom = this.handlerViewFrom.getPos();\n      const rightEdgeOfHandlerTo = this.handlerView.getPos() + this.handlerView.getLength();\n      const distAmongEdgesOfHandlers = rightEdgeOfHandlerTo - leftEdgeOfHandlerFrom;\n      this.valueNoteViewCommon.valueNotePos = leftEdgeOfHandlerFrom + distAmongEdgesOfHandlers / 2;\n      this.valueNoteViewCommon.setPos();\n    }\n  }\n\n  private removeValueNotesFromAndTo(): void {\n    if (this.valueNoteViewFrom && this.valueNoteViewCommon) {\n      this.valueNoteView.showValueNote(true);\n      this.valueNoteViewFrom.showValueNote(true);\n      this.valueNoteViewCommon.note.remove();\n      delete this.valueNoteViewCommon;\n    }\n  }\n\n  private handleSetBar = (data: {\n    handler: HTMLElement,\n    vertical: boolean,\n    double: boolean\n  }): void => {\n    if (!data.double) {\n      this.barView.setLength(data.handler);\n    } else if (this.handlerViewFrom) {\n      const options = {\n        valueFrom: this.handlerViewFrom.getPos(),\n        valueTo: this.handlerView.getPos(),\n        handler: data.handler,\n      };\n      this.barView.setLengthForDouble(options);\n    }\n  }\n\n  private addObservers(): void {\n    this.handlerView.addObserver('handlerMousedownEvent', this.handleMouseDown);\n    this.handlerView.addObserver('handlerMousemoveEvent', this.mouseMove);\n    if (this.handlerViewFrom) {\n      this.handlerViewFrom.addObserver('handlerMousedownEvent', this.handleMouseDown);\n      this.handlerViewFrom.addObserver('handlerMousemoveEvent', this.mouseMove);\n    }\n    this.trackView.addObserver('handlerMousedownEvent', this.handleChangePos);\n    this.barView.addObserver('handlerMousedownEvent', this.handleChangePos);\n    this.scaleView.addObserver('handlerMousedownEvent', this.handleChangePos);\n    this.handlerView.addObserver('calcValueNotePos', this.handleCalcValueNotePos);\n    this.handlerView.addObserver('setValueNotePos', this.handleSetValueNotePos);\n    this.handlerView.addObserver('setBar', this.handleSetBar);\n  }\n\n  private updateObservers(): void {\n    if (this.handlerViewFrom && this.valueNoteViewFrom) {\n      if (!Object.prototype.hasOwnProperty.call(this.handlerViewFrom.observers, 'calcValueNotePos')) {\n        this.handlerViewFrom.addObserver('calcValueNotePos', this.handleCalcValueNoteFromPos);\n        this.handlerViewFrom.addObserver('setValueNotePos', this.handleSetValueNoteFromPos);\n        this.handlerViewFrom.addObserver('setBar', this.handleSetBar);\n      }\n    }\n  }\n\n  private handleSetValueNoteFromPos = () => {\n    if (this.valueNoteViewFrom) {\n      this.valueNoteViewFrom.setPos();\n    }\n  }\n\n  private handleCalcValueNoteFromPos = (handler: HTMLElement) => {\n    if (this.valueNoteViewFrom) {\n      this.valueNoteViewFrom.calcPos(handler);\n    }\n  }\n\n  private handleSetValueNotePos = () => {\n    this.valueNoteView.setPos();\n  }\n\n  private handleCalcValueNotePos = (handler: HTMLElement) => {\n    this.valueNoteView.calcPos(handler);\n  }\n}\n\nexport default View;\n","import EventObserver from '../../eventObserver/EventObserver';\r\n\r\nclass HandlerView extends EventObserver {\r\n  public handler!: HTMLElement;\r\n\r\n  private parent!: HTMLElement;\r\n\r\n  private handlerPos!: number;\r\n\r\n  private handleMouseMove!: (e: MouseEvent) => void;\r\n\r\n  private handleMouseUp!: (e: MouseEvent) => void;\r\n\r\n  constructor(parent: HTMLElement) {\r\n    super();\r\n    this.render(parent);\r\n  }\r\n\r\n  public getLength(): number {\r\n    return this.isVertical()\r\n      ? parseInt(getComputedStyle(this.handler).height, 10)\r\n      : parseInt(getComputedStyle(this.handler).width, 10);\r\n  }\r\n\r\n  public getPos(): number {\r\n    return this.isVertical()\r\n      ? parseInt(getComputedStyle(this.handler).bottom, 10)\r\n      : parseInt(getComputedStyle(this.handler).left, 10);\r\n  }\r\n\r\n  public calcPos(options: {\r\n    edge: number,\r\n    value: number,\r\n    limits: { min: number; max: number },\r\n  }): void {\r\n    const { edge, value, limits: { min, max } } = options;\r\n    const oddValMin: number = value - min;\r\n    const oddMaxMin: number = max - min;\r\n    this.handlerPos = edge * (oddValMin / oddMaxMin);\r\n  }\r\n\r\n  public setPos(isDouble: boolean): void {\r\n    if (this.isVertical()) {\r\n      this.handler.style.left = '';\r\n      this.handler.style.bottom = `${this.handlerPos}px`;\r\n    } else {\r\n      this.handler.style.bottom = '';\r\n      this.handler.style.left = `${this.handlerPos}px`;\r\n    }\r\n    this.broadcast('calcValueNotePos', this.handler);\r\n    this.broadcast('setValueNotePos');\r\n    const data = { handler: this.handler, vertical: this.isVertical(), double: isDouble };\r\n    this.broadcast('setBar', data);\r\n  }\r\n\r\n  public setVerticalView(verticalView: boolean): void {\r\n    if (verticalView) {\r\n      this.handler.classList.remove('adslider__handler_direction_horizontal');\r\n      this.handler.classList.add('adslider__handler_direction_vertical');\r\n    } else {\r\n      this.handler.classList.remove('adslider__handler_direction_vertical');\r\n      this.handler.classList.add('adslider__handler_direction_horizontal');\r\n    }\r\n  }\r\n\r\n  private isVertical(): boolean {\r\n    return this.handler.classList.contains('adslider__handler_direction_vertical');\r\n  }\r\n\r\n  private render(parent: HTMLElement): void {\r\n    this.parent = parent;\r\n    this.handler = document.createElement('div');\r\n    this.handler.classList.add('adslider__handler');\r\n    this.parent.append(this.handler);\r\n    this.handler.addEventListener('mousedown', this.handleHandlerMouseDown);\r\n  }\r\n\r\n  private handleHandlerMouseDown = (event: MouseEvent): void => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    const data = { event, handler: this.handler };\r\n    this.broadcast('handlerMousedownEvent', data);\r\n    this.bindMousemove(event);\r\n  }\r\n\r\n  private bindMousemove(event: MouseEvent): void {\r\n    this.handleMouseMove = this.mouseMove.bind(this);\r\n    this.handleMouseUp = this.mouseUp.bind(this);\r\n    if (event.type === 'mousedown') {\r\n      document.addEventListener('mousemove', this.handleMouseMove);\r\n      document.addEventListener('mouseup', this.handleMouseUp);\r\n    }\r\n  }\r\n\r\n  private mouseMove(e: MouseEvent): void {\r\n    const data = { shift: null, e, handler: this };\r\n    this.broadcast('handlerMousemoveEvent', data);\r\n  }\r\n\r\n  private mouseUp(): void {\r\n    document.removeEventListener('mouseup', this.handleMouseUp);\r\n    document.removeEventListener('mousemove', this.handleMouseMove);\r\n  }\r\n}\r\n\r\nexport default HandlerView;\r\n","import EventObserver from '../../eventObserver/EventObserver';\n\nclass TrackView extends EventObserver {\n  public track!: HTMLElement;\n\n  constructor(parent: HTMLElement) {\n    super();\n    this.render(parent);\n    this.addListeners();\n  }\n\n  public getLength(): number {\n    return this.track.classList.contains('adslider__track_direction_vertical') ? parseInt(getComputedStyle(this.track).height, 10) : parseInt(getComputedStyle(this.track).width, 10);\n  }\n\n  public setVerticalView(verticalView: boolean): void {\n    if (verticalView) {\n      this.track.classList.remove('adslider__track_direction_horizontal');\n      this.track.classList.add('adslider__track_direction_vertical');\n    } else {\n      this.track.classList.remove('adslider__track_direction_vertical');\n      this.track.classList.add('adslider__track_direction_horizontal');\n    }\n  }\n\n  private render(parent: HTMLElement): void {\n    this.track = document.createElement('div');\n    this.track.classList.add('adslider__track');\n    parent.append(this.track);\n  }\n\n  private addListeners(): void {\n    this.track.addEventListener('mousedown', this.handleTrackMouseDown);\n  }\n\n  private handleTrackMouseDown = (event: MouseEvent): void => {\n    this.broadcast('handlerMousedownEvent', event);\n  }\n}\n\nexport default TrackView;\n","import EventObserver from '../../eventObserver/EventObserver';\r\n\r\nclass ValueNoteView extends EventObserver {\r\n  public note!: HTMLElement;\r\n\r\n  public valueNotePos!: number;\r\n\r\n  private value!: HTMLElement;\r\n\r\n  constructor(parent: HTMLElement) {\r\n    super();\r\n    this.render(parent);\r\n  }\r\n\r\n  public setValue(value: number): void {\r\n    this.value.textContent = String(value);\r\n  }\r\n\r\n  public getValue(): number {\r\n    return Number(this.value.textContent);\r\n  }\r\n\r\n  public setValueForTwo(valueFrom: number, valueTo: number): void {\r\n    const valFrom = String(valueFrom);\r\n    const valTo = String(valueTo);\r\n    this.value.textContent = `${valFrom} - ${valTo}`;\r\n  }\r\n\r\n  public showValueNote(data: boolean): void {\r\n    if (data) {\r\n      this.note.classList.remove('adslider__note_hide');\r\n      this.note.classList.add('adslider__note_show');\r\n    } else {\r\n      this.note.classList.remove('adslider__note_show');\r\n      this.note.classList.add('adslider__note_hide');\r\n    }\r\n  }\r\n\r\n  public calcPos(handler: HTMLElement): void {\r\n    if (this.isVertical()) {\r\n      const handlerBottomPos: string = getComputedStyle(handler).bottom;\r\n      const handlerHeight: string = getComputedStyle(handler).height;\r\n      this.valueNotePos = parseInt(handlerBottomPos, 10) + parseInt(handlerHeight, 10) / 2;\r\n    } else {\r\n      const handlerLeftPos: string = getComputedStyle(handler).left;\r\n      const handlerWidth: string = getComputedStyle(handler).width;\r\n      this.valueNotePos = parseInt(handlerLeftPos, 10) + parseInt(handlerWidth, 10) / 2;\r\n    }\r\n  }\r\n\r\n  public setPos(): void {\r\n    if (this.note.classList.contains('adslider__note_direction_vertical')) {\r\n      this.note.style.left = '';\r\n      this.note.style.bottom = `${this.valueNotePos}px`;\r\n    } else {\r\n      this.note.style.bottom = '';\r\n      this.note.style.left = `${this.valueNotePos}px`;\r\n    }\r\n  }\r\n\r\n  public setVerticalView(verticalView: boolean): void {\r\n    if (verticalView) {\r\n      this.note.classList.remove('adslider__note_direction_horizontal');\r\n      this.note.classList.add('adslider__note_direction_vertical');\r\n    } else {\r\n      this.note.classList.remove('adslider__note_direction_vertical');\r\n      this.note.classList.add('adslider__note_direction_horizontal');\r\n    }\r\n  }\r\n\r\n  public getSize(): number {\r\n    return this.note.classList.contains('adslider__note_direction_vertical') ? parseInt(getComputedStyle(this.note).height, 10) : parseInt(getComputedStyle(this.note).width, 10);\r\n  }\r\n\r\n  public getPos(): number {\r\n    return this.note.classList.contains('adslider__note_direction_vertical') ? parseInt(getComputedStyle(this.note).bottom, 10) : parseInt(getComputedStyle(this.note).left, 10);\r\n  }\r\n\r\n  private render(parent: HTMLElement): void {\r\n    this.note = document.createElement('div');\r\n    this.value = document.createElement('p');\r\n    this.note.classList.add('adslider__note');\r\n    this.value.classList.add('adslider__value');\r\n    this.note.append(this.value);\r\n    parent.append(this.note);\r\n  }\r\n\r\n  private isVertical(): boolean {\r\n    return this.note.classList.contains('adslider__note_direction_vertical');\r\n  }\r\n}\r\n\r\nexport default ValueNoteView;\r\n","import EventObserver from '../../eventObserver/EventObserver';\r\n\r\nclass BarView extends EventObserver {\r\n  private bar!: HTMLElement;\r\n\r\n  private barPos!: number;\r\n\r\n  constructor(parent: HTMLElement) {\r\n    super();\r\n    this.render(parent);\r\n    this.addListeners();\r\n  }\r\n\r\n  public setVerticalView(verticalView: boolean): void {\r\n    if (verticalView) {\r\n      this.bar.classList.remove('adslider__bar_direction_horizontal');\r\n      this.bar.classList.add('adslider__bar_direction_vertical');\r\n    } else {\r\n      this.bar.classList.remove('adslider__bar_direction_vertical');\r\n      this.bar.classList.add('adslider__bar_direction_horizontal');\r\n    }\r\n  }\r\n\r\n  public setLength(handler: HTMLElement): void {\r\n    let handlerPos: number;\r\n    let handlerLength: number;\r\n    this.bar.style.bottom = '';\r\n    this.bar.style.left = '';\r\n    if (this.bar.classList.contains('adslider__bar_direction_horizontal')) {\r\n      this.bar.style.height = '';\r\n      handlerPos = parseInt(getComputedStyle(handler).left, 10);\r\n      handlerLength = parseInt(getComputedStyle(handler).width, 10);\r\n      this.calcBarPosForSingle(handlerPos, handlerLength);\r\n      this.bar.style.width = `${this.barPos}px`;\r\n    } else {\r\n      this.bar.style.width = '';\r\n      handlerPos = parseInt(getComputedStyle(handler).bottom, 10);\r\n      handlerLength = parseInt(getComputedStyle(handler).height, 10);\r\n      this.calcBarPosForSingle(handlerPos, handlerLength);\r\n      this.bar.style.height = `${this.barPos}px`;\r\n    }\r\n  }\r\n\r\n  public setLengthForDouble(options: {\r\n    valueFrom: number;\r\n    valueTo: number;\r\n    handler: HTMLElement;\r\n  }): void {\r\n    const { valueFrom, valueTo, handler } = options;\r\n    const handlerLength: number = parseInt(\r\n      getComputedStyle(handler).width,\r\n      10,\r\n    );\r\n    const barRightEdge: number = valueTo + handlerLength / 2;\r\n    const barLeftEdge: number = valueFrom + handlerLength / 2;\r\n    const barLength: number = Math.abs(barRightEdge - barLeftEdge);\r\n    if (this.bar.classList.contains('adslider__bar_direction_horizontal')) {\r\n      this.bar.style.height = '';\r\n      this.bar.style.bottom = '';\r\n      this.bar.style.width = `${barLength}px`;\r\n      this.calcBarPosForDouble(valueFrom, valueTo, handlerLength);\r\n      this.bar.style.left = `${this.barPos}px`;\r\n    } else {\r\n      this.bar.style.width = '';\r\n      this.bar.style.left = '';\r\n      this.bar.style.height = `${barLength}px`;\r\n      this.calcBarPosForDouble(valueFrom, valueTo, handlerLength);\r\n      this.bar.style.bottom = `${this.barPos}px`;\r\n    }\r\n  }\r\n\r\n  private render(parent: HTMLElement): void {\r\n    this.bar = document.createElement('div');\r\n    this.bar.classList.add('adslider__bar');\r\n    parent.append(this.bar);\r\n  }\r\n\r\n  private addListeners(): void {\r\n    this.bar.addEventListener('mousedown', this.handleBarMouseDown);\r\n  }\r\n\r\n  private handleBarMouseDown = (event: MouseEvent): void => {\r\n    this.broadcast('handlerMousedownEvent', event);\r\n  }\r\n\r\n  private calcBarPosForSingle(handlerPos: number, handlerLength: number): void {\r\n    this.barPos = handlerPos + handlerLength / 2;\r\n  }\r\n\r\n  private calcBarPosForDouble(\r\n    handlerPosFrom: number,\r\n    handlerPosTo: number,\r\n    handlerLength: number,\r\n  ): void {\r\n    this.barPos = handlerPosFrom < handlerPosTo\r\n      ? handlerPosFrom + handlerLength / 2\r\n      : handlerPosTo + handlerLength / 2;\r\n  }\r\n}\r\n\r\nexport default BarView;\r\n","import { IConfig } from '../../model/Model';\nimport EventObserver from '../../eventObserver/EventObserver';\n\nclass ScaleView extends EventObserver {\n  private parent!: HTMLElement;\n\n  private scale!: HTMLElement;\n\n  private numberOfLines!: number;\n\n  private lineArray: Array<Element> = [];\n\n  private signArray: Array<HTMLDivElement> = [];\n\n  constructor(parent: HTMLElement) {\n    super();\n    this.render(parent);\n    this.addListeners();\n  }\n\n  public drawScale(options: IConfig, handler: HTMLElement): void {\n    if (options.vertical) {\n      this.scale.classList.remove('adslider__scale_direction_horizontal');\n      this.scale.classList.add('adslider__scale_direction_vertical');\n    } else {\n      this.scale.classList.remove('adslider__scale_direction_vertical');\n      this.scale.classList.add('adslider__scale_direction_horizontal');\n    }\n    const {\n      step,\n      limits: { min, max },\n    } = options;\n    const odd: number = max - min;\n    this.calcNumberOfLines(step, odd);\n    this.setScalePos(handler);\n    this.createListOfScaleLines(options);\n    this.renderScaleSign(options);\n  }\n\n  private render(parent: HTMLElement): void {\n    this.parent = parent;\n    this.scale = document.createElement('div');\n    this.scale.classList.add('adslider__scale');\n    this.parent.append(this.scale);\n  }\n\n  private renderScaleLine(): HTMLElement {\n    const line: HTMLElement = document.createElement('div');\n    line.classList.add('adslider__scale-line');\n    if (this.isVertical()) {\n      line.classList.add('adslider__scale-line_direction_vertical');\n    } else {\n      line.classList.add('adslider__scale-line_direction_horizontal');\n    }\n    return line;\n  }\n\n  private addListeners(): void {\n    this.scale.addEventListener('mousedown', this.handleScaleMouseDown);\n  }\n\n  private handleScaleMouseDown = (event: MouseEvent): void => {\n    this.broadcast('handlerMousedownEvent', event);\n  };\n\n  private calcNumberOfLines(step: number, odd: number): void {\n    this.numberOfLines = odd % step === 0 ? odd / step + 1 : Math.floor(odd / step + 2);\n  }\n\n  private setScalePos(handler: HTMLElement): void {\n    let handlerLength: number;\n    let trackLength: number;\n    let scaleLength: number;\n    if (this.isVertical()) {\n      this.scale.style.width = '';\n      this.scale.style.left = '';\n      handlerLength = parseInt(getComputedStyle(handler).height, 10);\n      trackLength = parseInt(getComputedStyle(this.parent).height, 10);\n      scaleLength = trackLength - handlerLength;\n      this.scale.style.height = `${scaleLength}px`;\n      this.scale.style.top = `${handlerLength / 2}px`;\n    } else {\n      this.scale.style.height = '';\n      this.scale.style.top = '';\n      handlerLength = parseInt(getComputedStyle(handler).width, 10);\n      trackLength = parseInt(getComputedStyle(this.parent).width, 10);\n      scaleLength = trackLength - handlerLength;\n      this.scale.style.width = `${scaleLength}px`;\n      this.scale.style.left = `${handlerLength / 2}px`;\n    }\n  }\n\n  private createListOfScaleLines(options: IConfig): void {\n    const {\n      step,\n      limits: { min, max },\n    } = options;\n    this.scale.innerHTML = '';\n    const stepPercentage = (step / (max - min)) * 100;\n    for (let i = 0; i < this.numberOfLines; i += 1) {\n      const line = this.renderScaleLine();\n      this.scale.append(line);\n      const position = i * stepPercentage > 100 ? 100 : i * stepPercentage;\n      if (this.isVertical()) {\n        line.style.bottom = `${position}%`;\n      } else {\n        line.style.left = `${position}%`;\n      }\n    }\n  }\n\n  private renderScaleSign(options: IConfig): void {\n    const listOfLines = this.scale.querySelectorAll('.adslider__scale-line');\n    listOfLines.forEach((line, index) => {\n      const value: number = this.calcSigns(index, options);\n      const text = document.createElement('div');\n      text.classList.add('adslider__scale-text');\n      if (this.isVertical()) {\n        text.classList.add('adslider__scale-text_direction_vertical');\n      } else {\n        text.classList.add('adslider__scale-text_direction_horizontal');\n      }\n      text.innerText = `${value}`;\n      line.append(text);\n      this.lineArray.push(line);\n      this.signArray.push(text);\n    });\n    this.capacityCheckForSign();\n  }\n\n  private capacityCheckForSign(): void {\n    let isSmallDistanceBetweenSigns: boolean;\n    if (this.isVertical()) {\n      isSmallDistanceBetweenSigns = this.isSmallDistanceBetweenVerticalSigns();\n    } else {\n      isSmallDistanceBetweenSigns = this.isSmallDistanceBetweenHorizontalSigns();\n    }\n    if (isSmallDistanceBetweenSigns) {\n      this.hideSigns();\n    }\n    this.lineArray = [];\n    this.signArray = [];\n  }\n\n  private isSmallDistanceBetweenVerticalSigns(): boolean {\n    return this.signArray.some((item, i, array) => {\n      if (i > 0) {\n        return (\n          array[i - 1].getBoundingClientRect().top\n            - item.getBoundingClientRect().bottom\n          < 0\n        );\n      }\n      return false;\n    });\n  }\n\n  private isSmallDistanceBetweenHorizontalSigns(): boolean {\n    return this.signArray.some((item, i, array) => {\n      if (i > 0) {\n        return (\n          item.getBoundingClientRect().left\n            - array[i - 1].getBoundingClientRect().right\n          < 0\n        );\n      }\n      return false;\n    });\n  }\n\n  private hideSigns(): void {\n    this.lineArray.forEach((line, index, array) => {\n      if (index % 2 !== 0 && index !== array.length - 1) {\n        line.classList.add('adslider__scale-line_hidden');\n      }\n    });\n    this.setPenultimateSignView();\n    this.capacityCheckForSign();\n  }\n\n  private setPenultimateSignView() {\n    let distanceBetweenLastSigns: number;\n    if (this.isVertical()) {\n      distanceBetweenLastSigns = this.calcDistanceBetweenLastVerticalSigns();\n    } else {\n      distanceBetweenLastSigns = this.calcDistanceBetweenLastHorizontalSigns();\n    }\n    if (distanceBetweenLastSigns < 0) {\n      this.lineArray[this.lineArray.length - 2].classList.add(\n        'adslider__scale-line_hidden',\n      );\n      this.lineArray = this.lineArray.filter(\n        (_el, i, array) => (!(i % 2) && i !== array.length - 2) || i === array.length - 1,\n      );\n      this.signArray = this.signArray.filter(\n        (_el, i, array) => (!(i % 2) && i !== array.length - 2) || i === array.length - 1,\n      );\n    } else {\n      this.lineArray = this.lineArray.filter((_el, i) => !(i % 2));\n      this.signArray = this.signArray.filter((_el, i) => !(i % 2));\n    }\n  }\n\n  private calcDistanceBetweenLastVerticalSigns(): number {\n    const lastSignPos = this.signArray[this.signArray.length - 1].getBoundingClientRect().top;\n    const preLastSignPos = this.signArray[this.signArray.length - 2].getBoundingClientRect().bottom;\n    return lastSignPos - preLastSignPos;\n  }\n\n  private calcDistanceBetweenLastHorizontalSigns(): number {\n    const lastSignPos = this.signArray[this.signArray.length - 1].getBoundingClientRect().left;\n    const preLastSignPos = this.signArray[this.signArray.length - 2].getBoundingClientRect().right;\n    return preLastSignPos - lastSignPos;\n  }\n\n  private calcSigns(index: number, options: IConfig): number {\n    const {\n      step,\n      limits: { min, max },\n    } = options;\n    let value: number;\n    if (index === 0) {\n      value = min;\n    } else if (index === this.numberOfLines - 1) {\n      value = max;\n    } else {\n      value = index * step + min;\n    }\n    return Math.round(value);\n  }\n\n  private isVertical(): boolean {\n    return this.scale.classList.contains('adslider__scale_direction_vertical');\n  }\n}\n\nexport default ScaleView;\n","import './main.scss';\nimport { IConfig } from './model/Model';\nimport Presenter from './presenter/Presenter';\n\n(function ($) {\n  const methods = {\n    init(container: HTMLElement, options: IConfig): void {\n      if ($(this).data('inited')) {\n        $.error('Plugin has already been initialized on this selector!');\n      } else {\n        const presenter = new Presenter(container, options);\n        $(this).data({\n          presenter, inited: true,\n        });\n      }\n    },\n    update(options: IConfig): void {\n      const { model } = $(this).data('presenter');\n      const presenter = $(this).data('presenter');\n      model.options = options;\n      model.init(model.options);\n      presenter.updateView();\n    },\n    updateCurValue(curValue: number): void {\n      const { model } = $(this).data('presenter');\n      const presenter = $(this).data('presenter');\n      model.options.curValue = curValue;\n      model.init(model.options);\n      presenter.updateView();\n    },\n    getOptions(): IConfig {\n      return $(this).data('presenter').model.options;\n    },\n  };\n\n  type SliderMethods = {\n    init(container: HTMLElement, options: IConfig): void,\n    update(options: IConfig): void,\n    updateCurValue(curValue: number): void,\n    getOptions(): IConfig,\n  };\n\n  $.fn.adslider = function (methodOrOptions: keyof SliderMethods): void | IConfig {\n    if (methodOrOptions === 'update') {\n      return methods.update.call(this, arguments[1]);\n    }\n    if (methodOrOptions === 'getOptions') {\n      return methods.getOptions.call(this);\n    }\n    if (typeof methodOrOptions === 'object' || !methodOrOptions) {\n      return methods.init.call(this, this[0], methodOrOptions);\n    }\n    $.error(`Method ${methodOrOptions} does not exist on jQuery.tooltip`);\n  };\n}(jQuery));\n"],"names":["module","exports","obj","__esModule","$4ddd20911bdffde1$var$_typeof","Symbol","iterator","obj1","constructor","prototype","$a8d2d0f055d01638$var$_View","$jvJOj","parcelRequire","Presenter","container","options","_this","this","$a8d2d0f055d01638$var$_classCallCheck2","$a8d2d0f055d01638$var$_defineProperty2","data","model","setValueFromHandlerPos","view","calcPos","setPos","Model","View","updateView","addObservers","value","addObserver","handleCalcValue","handleCalcPos","handleSetPos","instance","Constructor","TypeError","$50f1b79c30c64723$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","$50b53f2678e45cc8$var$_classCallCheck2","_super","call","$50b53f2678e45cc8$var$_defineProperty2","$50b53f2678e45cc8$var$_assertThisInitialized2","limits","curValue","to","showValueNote","step","vertical","from","init","double","setLimits","setStep","setValueTo","setValueFrom","setCurValue","setDouble","calcValueFromHandlerPos","relPosition","conditionForReturn","isValToMovesOverValFrom","isFrom","isValFromMovesOverValTo","setValAndBroadcast","relPos","_this$options$limits","min","odds","max","Math","round","Error","_this$options","_this$options$limits2","newVal","setRoundedCurVal","abs","numberOfSteps","newCurValue","_this$options2","_this$options2$limits","_this$options3","_this$options3$limits","_this$options$limits3","_this$options4","calcValueWithStep","broadcast","isDouble","_this$options5","_this$options5$limits","maxStepValue","floor","newValue","EventObserver","self","ReferenceError","subClass","superClass","create","$aPOvv","$7e35d879846c1d0e$var$_setPrototypeOf","o","p","setPrototypeOf","o1","p1","__proto__","default","$28817a45901dd14a$require$_typeof","$6G58z","$d89b74bdee76cdd9$var$_getPrototypeOf","getPrototypeOf","$034f8219a7d89f92$var$_classCallCheck2","$034f8219a7d89f92$var$_defineProperty2","observers","event","newObserver","includes","push","undefined","slice","forEach","subscriber","$ee51def46c49538c$var$_HandlerView","$ee51def46c49538c$var$_TrackView","$ee51def46c49538c$var$_ValueNoteView","$ee51def46c49538c$var$_BarView","$ee51def46c49538c$var$_ScaleView","$ee51def46c49538c$var$_classCallCheck2","$ee51def46c49538c$var$_defineProperty2","$ee51def46c49538c$var$_assertThisInitialized2","e","handlerView","handler","classList","contains","changeHandlerPosForDoubleHorizontal","changeHandlerPosForDoubleVertical","shift","getLength","mouseMove","calcShift","newPos","type","calcNewPos","handlerShift","edge","getEdge","checkNewPos","handlerViewFrom","valueFrom","getPos","valueTo","barView","setLengthForDouble","setLength","valueNoteViewFrom","valueNoteView","render","setVerticalViewForSingle","setValue","scaleView","drawScale","updateViewForDouble","deleteHandlerFrom","setViewOfOneNote","el","adslider","document","createElement","add","append","trackView","TrackView","BarView","ScaleView","HandlerView","track","ValueNoteView","note","remove","renderHandlerFrom","updateObservers","setVerticalViewForDouble","handleMouseDown","handlerFromPos","getBoundingClientRect","top","middlePos","clientY","left","clientX","setVerticalView","newPosCopy","isVertical","bottom","isSmallDistanceBetweenNotes","makeCommonNoteView","valueNoteViewCommon","removeValueNotesFromAndTo","getSize","updateCommonNoteView","getValue","setValueForTwo","leftEdgeOfHandlerFrom","distAmongEdgesOfHandlers","valueNotePos","handleChangePos","handleCalcValueNotePos","handleSetValueNotePos","handleSetBar","hasOwnProperty","handleCalcValueNoteFromPos","handleSetValueNoteFromPos","parent","$c627084705c38b95$var$_classCallCheck2","$c627084705c38b95$var$_defineProperty2","$c627084705c38b95$var$_assertThisInitialized2","preventDefault","stopPropagation","bindMousemove","parseInt","getComputedStyle","height","width","_options$limits","oddValMin","oddMaxMin","handlerPos","style","concat","verticalView","addEventListener","handleHandlerMouseDown","handleMouseMove","bind","handleMouseUp","mouseUp","removeEventListener","$1a9019df3d200587$var$_classCallCheck2","$1a9019df3d200587$var$_defineProperty2","$1a9019df3d200587$var$_assertThisInitialized2","addListeners","handleTrackMouseDown","$d79f3b78ae7ae6ed$var$_classCallCheck2","$d79f3b78ae7ae6ed$var$_defineProperty2","$d79f3b78ae7ae6ed$var$_assertThisInitialized2","textContent","String","Number","valFrom","valTo","handlerBottomPos","handlerHeight","handlerLeftPos","handlerWidth","$6cf340f8c97fcf41$var$_classCallCheck2","$6cf340f8c97fcf41$var$_defineProperty2","$6cf340f8c97fcf41$var$_assertThisInitialized2","bar","handlerLength","calcBarPosForSingle","barPos","barRightEdge","barLeftEdge","barLength","calcBarPosForDouble","handleBarMouseDown","handlerPosFrom","handlerPosTo","$e7d00acfb13cb576$var$_classCallCheck2","$e7d00acfb13cb576$var$_defineProperty2","$e7d00acfb13cb576$var$_assertThisInitialized2","scale","odd","calcNumberOfLines","setScalePos","createListOfScaleLines","renderScaleSign","line","handleScaleMouseDown","numberOfLines","scaleLength","_options$limits2","innerHTML","stepPercentage","renderScaleLine","position","_this2","querySelectorAll","index","calcSigns","text","innerText","lineArray","signArray","capacityCheckForSign","isSmallDistanceBetweenVerticalSigns","isSmallDistanceBetweenHorizontalSigns","hideSigns","some","item","array","right","setPenultimateSignView","calcDistanceBetweenLastVerticalSigns","calcDistanceBetweenLastHorizontalSigns","filter","_el","lastSignPos","_options$limits3","$","methods","$0574195d21ba86f9$var$_Presenter","jQuery","error","presenter","inited","update","updateCurValue","getOptions","fn","methodOrOptions","arguments","$0574195d21ba86f9$var$_typeof2"],"version":3,"file":"demo-page.d4ebc7f1.js.map"}